# 回归检查索引 (Regressions Registry)

> 记录所有回归检查，确保已修复的问题不会再次发生。

---

## 索引表

### 🖥️ 桌面应用 (Tauri/Electron/Swift)
| ID | 关联问题 | 名称 | 类型 |
|----|----------|------|------|
| R-2024-002 | P-2024-002 | WindowSwitcher 上下箭头切换窗口置顶 | 手工检查 |
| R-2024-003 | P-2024-003 | GUI 标题栏显示完整路径 | 手工检查 |
| R-2024-022 | P-2024-022 | iterate.app 更新后工具同步 | 脚本检查 |
| R-2024-052 | P-2024-052 | Shift+Tab 恢复窗口置顶顺序 | 手工检查 |
| R-2024-053 | P-2024-053 | 中文输入候选栏位置 | 手工检查 |
| R-2024-464 | P-2024-464 | update.sh osascript 密码对话框 | 手工检查 |
| R-2025-001 | P-2025-001 | 按钮 3D 凹陷反馈验证 | 手工检查 |
| R-2026-005 | P-2026-005 | macOS Swift 全局热键 Option+Q | 手工检查 |
| R-2026-002 | P-2026-002 | iOS 编译适配验证 | 编译验证 |
| R-2026-003 | P-2026-003 | Web Bridge 粘贴图片验证 | 手工检查 |
| R-2026-006 | P-2026-005 | 移动端多进程弹窗交互验证 | 手工检查 |
| R-2026-008 | P-2026-008 | Cloudflare Tunnel 1033 恢复与自启稳定性验证 | 手工检查 |
| R-2026-020 | P-2026-020 | 寸止端口监听前端启动/停止与状态同步 | 手工检查 |
| R-2026-022 | P-2026-022 | iterate Checkpoint restore 覆盖包含 untracked | 手工检查 |
| R-2026-023 | P-2026-023 | iterate Checkpoint 创建后应留存（不应 pop 掉） | 手工检查 |

---

## R-2026-020 寸止端口监听前端启动/停止与状态同步

- **类型**：手工检查
- **描述**：验证在设置页面中，“寸止端口监听”模块的启动、停止、端口自动切换及状态显示功能是否正常工作。
- **检查步骤**：
  1. 打开应用设置页，展开“寸止端口监听”模块。
  2. 保持默认端口 5321，点击“启动服务”。
  3. **预期结果**：状态变为“运行中”，显示正确的端口和 PID，按钮变为“停止服务”。
  4. 开启另一个终端，手动监听 5321 端口（如 `nc -l 5321`），然后在设置页尝试启动服务。
  5. **预期结果**：系统应检测到端口占用，自动切换到 5322 或其他空闲端口，并显示警告提示。
  6. 点击“停止服务”。
  7. **预期结果**：服务进程被杀死，状态恢复为“未启动”。
  8. 调用 `python3 bin/cunzhi.py [端口] --message "测试"`，验证是否能正常触发 GUI 弹窗并返回响应。
- **关联 P-ID**：P-2026-020
- **日期**：2026-01-11

---

## R-2026-022 iterate Checkpoint restore 覆盖包含 untracked

- **类型**：手工检查
- **描述**：验证 Checkpoint restore 能正确恢复包含未跟踪文件（untracked）的检查点，并且不会误删无关的新文件。
- **检查步骤**：
  1. 在项目根目录创建测试文件：`echo "版本1" > checkpoint_regression.txt`
  2. 调用脚本触发自动检查点：`python3 bin/cunzhi.py 5310 --workspace "/Users/apple/cunzhi"`
  3. 修改文件：`echo "版本2" > checkpoint_regression.txt`
  4. 打开 iterate → Checkpoint 面板，找到刚才创建的“自动检查点”，点击“恢复”。
  5. 验证 `checkpoint_regression.txt` 内容回到“版本1”。
  6. 额外验证：在步骤 3 之后再新建一个无关文件（例如 `touch unrelated.txt`），恢复后 `unrelated.txt` 不应被删除。
- **预期结果**：
  - 恢复后 `checkpoint_regression.txt` 等检查点涉及文件回到检查点内容。
  - 不会因 `git clean -fd` 之类的全局清理导致未跟踪文件丢失。
- **关联 P-ID**：P-2026-022
- **日期**：2026-01-13

---

## R-2026-023 iterate Checkpoint 创建后应留存（不应 pop 掉）

- **类型**：手工检查
- **描述**：验证创建检查点后，检查点会留在列表中可被后续 Restore；不会因为 `stash pop` 而从列表消失。
- **检查步骤**：
  1. 在任意 Git 仓库制造 dirty 变更（修改一个 tracked 文件即可）。
  2. 打开 iterate → Checkpoint 面板，点击“创建”，输入名称 `verify-restore-1`。
  3. 关闭面板再打开/刷新列表。
  4. **预期结果**：`verify-restore-1` 仍出现在列表中（不会创建后消失）。
  5. 在同一仓库再做一次第二次改动（例如再插入一行空行）。
  6. 对 `verify-restore-1` 点击“恢复”。
  7. **预期结果**：第二次改动被回滚，工作区回到创建 `verify-restore-1` 时的状态。
- **关联 P-ID**：P-2026-023
- **日期**：2026-01-13

---

### 🔧 知识库与流程
| ID | 关联问题 | 名称 | 类型 |
|----|----------|------|------|
| R-2024-001 | P-2024-001 | 全局知识库流程验证 | 流程验证 |
| R-2026-012 | P-2026-012 | MCP 混淆名称调用验证 | 流程验证 |
| R-2026-013 | P-2026-013 | MCP 间歇性拦截恢复验证 | 手工检查 |
| R-2026-015 | P-2026-015 | MCP 错误处理提示验证 | 手工检查 |
| R-2026-016 | P-2026-016 | MCP 影子执行功能验证 | 流程验证 |
| R-2026-001 | P-2026-001 | .gitignore 风险检测与修复指引 | 流程验证 |

### 🌐 Web/SaaS
| ID | 关联问题 | 名称 | 类型 |
|----|----------|------|------|
| R-2024-005 | P-2024-005 | Supabase RLS anon 角色权限 | 手工检查 |
| R-2024-051 | P-2024-051 | AI-Sidebar NotebookLM 标题捕获 | 手工检查 |
| R-2026-009 | P-2026-009 | tobooks 笔记面板搜索框点击不应关闭面板 | 手工检查 |

---

## 条目格式说明

每个回归检查应包含：
- **ID**: R-YYYY-NNN 格式
- **关联问题**: P-ID
- **类型**: unit / e2e / integration / 手工检查 / 脚本检查 / CI 验证 / 部署验证 / 流程验证
- **位置**: 测试文件路径（手工检查类填 N/A）
- **关键断言**: 检查的核心逻辑
- **运行方式**: 执行命令

---

## R-2026-011 系统伪装重命名验证

- **类型**：手工检查
- **描述**：验证敏感文件是否已成功重命名并伪装，且能正常被系统识别。
- **检查步骤**：
  1. 确认原始文件 `新名称.rpm` 不再存在。
  2. 确认新路径 `/Users/apple/Downloads/windsurf_setup_d02c.rpm` 存在。
  3. 确认文件大小与原始文件一致。
  4. 执行 `xattr -l` 确认无任何残留扩展属性。
- **关联 P-ID**：P-2026-011
- **日期**：2026-01-08

## R-2026-002 iOS 编译适配验证

- **类型**：编译/部署验证
- **描述**：验证 iOS 侧编译是否通过，确保无桌面端特有 API 导致的编译错误。
- **检查步骤**：
  1. 运行 `cargo check --target aarch64-apple-ios`
  2. 检查 `src/rust/ui/window.rs` 和 `src/rust/ui/window_registry.rs`。
- **关联 P-ID**：P-2026-002
- **预期结果**：编译无 `not found in this scope` 或 `mismatched types` 错误。
- **验证版本**：v0.5.0 (Verified)
- **日期**：2026-01-06

---

## R-2026-003 Web Bridge 粘贴图片验证

- **类型**：手工检查
- **描述**：验证 Web 端面板粘贴图片并提交后，桌面端是否能正确收到图片数据。
- **检查步骤**：
  1. 打开 trycloudflare Web 面板。
  2. 粘贴一张图片并点击提交。
  3. 检查桌面端收到的 `BridgeAction` 消息 payload。
- **关联 P-ID**：P-2026-003
- **预期结果**：桌面端收到的 `response.images` 包含 Base64 格式的图片数据。
- **验证版本**：v0.5.0 (Verified)
- **日期**：2026-01-06

---


## R-2026-009 tobooks 笔记面板搜索框点击不应关闭面板

- **类型**：手工检查
- **描述**：验证打开“笔记与高亮”面板后，点击搜索框可持续输入，不会被 outside-click 误判导致面板关闭。
- **检查步骤**：
  1. 打开 `tobooks-main/index.html`，进入阅读界面。
  2. 点击“笔记与高亮”按钮打开左侧面板。
  3. 点击顶部搜索输入框。
  4. 连续输入多次字符（例如 `abc`），确认焦点保持在输入框且面板不关闭。
  5. 点击面板外区域，确认此时面板会关闭。
- **预期结果**：步骤 4 面板不关闭、输入不中断；步骤 5 才会关闭。
- **关联 P-ID**：P-2026-009
- **验证版本**：fcc516f
- **日期**：2026-01-07

## R-2026-008 Cloudflare Tunnel 1033 恢复与自启稳定性验证

- **类型**：手工检查
- **描述**：验证 `iterate.tobooks.xin` 使用 Cloudflare Tunnel 时，connector 在线且可在重启后自动恢复，避免 Error 1033。
- **检查步骤**：
  1. 打开 Cloudflare Zero Trust：`Networks -> Connectors`，确认 tunnel `iterate` 状态为 **HEALTHY**。
  2. 在 macOS 上确认服务存在：`sudo launchctl list | grep com.cloudflare.cloudflared`。
  3. 确认旧 LaunchAgent 未启用：`ls -l ~/Library/LaunchAgents | grep com.imhuso.cloudflared.iterate.plist` 应无结果，或文件在 `~/Library/LaunchAgents/disabled/`。
  4. 手机端访问 `https://iterate.tobooks.xin`，应能正常打开（不出现 1033）。
  5. 重启 Mac（或重启 `com.cloudflare.cloudflared` 服务）后重复步骤 1-4。
- **预期结果**：Connector 持续在线，域名可访问，不出现 Error 1033。
- **关联 P-ID**：P-2026-008
- **日期**：2026-01-07

## R-2026-001 .gitignore 风险检测与修复指引

- **类型**：流程/逻辑验证
- **描述**：验证系统能否识别并预防项目级忽略规则对知识库的干扰。
- **检查步骤**：
  1. 故意在 `.gitignore` 中删除 `!.cunzhi-knowledge/` 规则，并确保存在 `*.md`。
  2. 调用 `ji(action="回忆")`。
  3. **预期结果**：输出中应包含 "⚠️ 配置风险检测" 警告，并显示修复命令。
  4. 执行修复命令。
  5. 再次调用 `ji(action="回忆")`，警告应消失。
  6. 检查 IDE 资源管理器，`.cunzhi-knowledge/` 内的文件应正常显示。
- **关联 P-ID**：P-2026-001
- **验证版本**：v0.5.0
- **日期**：2026-01-03

---
## R-2026-006 移动端多进程弹窗交互验证

- **类型**：手工检查
- **描述**：验证在多进程弹窗模式下，手机端能够正确切换并驱动不同进程的桌面弹窗。
- **检查步骤**：
  1. 同时在两个不同项目触发 `zhi` 请求，确保桌面显示两个独立窗口。
  2. 手机端连接 Bridge，在 ∞ 菜单中切换项目 A。
  3. 点击“继续”，确认桌面窗口 A 响应并继续生成。
  4. 在手机端切换项目 B，点击“确认”，确认桌面窗口 B 响应并正常关闭。
- **预期结果**：每个独立进程都能准确接收并执行其对应项目的手机端指令。
- **关联 P-ID**：P-2026-005
- **验证版本**：v0.6.0 (Verified)
- **日期**：2026-01-07

---

## R-2025-001 Windsurf 插入功能回归检查

- ID: R-2025-001
- 关联问题: P-2025-001
- 类型: 手工检查
- 位置: /Users/apple/提示词最新的/Full-screen-prompt/main.js
- 关键断言: 检查 `lastFrontAppPid` 是否成功捕获非 0 的 PID，且 `activateAppByPid` 执行无报错。
- 运行方式: 
  1. 打开 Windsurf
  2. Shift+Cmd+P 呼出 Prompt
  3. 选择插入，检查 Windsurf 是否被激活并完成粘贴。

## R-2025-005 全局快捷键开关与系统快捷键冲突验证

- **类型**：交互/功能回归
- **描述**：验证全局快捷键切换功能是否能彻底禁用本地及插件监听，并确保不干扰系统快捷键。
- **检查步骤**：
  1. 打开寸止弹窗，点击顶部“闪电”图标至置灰状态。
  2. 按 `Tab` 和 `Shift+Tab`，确认窗口不应最小化或恢复，且焦点应在输入框内正常切换。
  3. 点击“闪电”图标至高亮（蓝色）状态。
  4. 按 `Cmd+Tab`，确认应正常触发系统的应用切换功能，而不是触发寸止的最小化。
  5. 验证 `PopupHeader.vue` 中的切换按钮是否仅显示图标，不再显示“已禁”文字。
- **关联 P-ID**：P-2025-005
- **预期结果**：禁用时本地监听失效，启用时不拦截系统组合键，UI 简洁无文字。
- **验证版本**：v1.2.0 (Verified)
- **日期**：2025-12-30

---

## R-2025-004 全局快捷键热切换验证

- 关联问题：P-2025-004
- 类型：手工检查
- 位置：`src/frontend/components/popup/PopupHeader.vue`
- 关键断言：
  1. 点击顶部“闪电”图标按钮，图标应变为禁用状态（`flash-off`）。
  2. 禁用状态下，按下全局快捷键（如 `Shift+Tab`），不应触发应用行为（如窗口恢复）。
  3. 再次点击图标启用后，快捷键应立即恢复功能。
  4. 切换状态应能持久化到配置文件中，并在重启后保持。
- 运行方式：
  1. 打开寸止弹窗。
  2. 点击头部闪电图标将其禁用。
  3. 最小化弹窗，按下 `Shift+Tab`，验证弹窗不被唤起。
  4. 再次打开弹窗启用快捷键，验证 `Shift+Tab` 恢复正常。
- 状态：verified

---

## R-2025-003 上下文追加项勾选验证

- 关联问题：P-2025-003
- 类型：手工检查
- 位置：`src/frontend/components/popup/PopupInput.vue`
- 关键断言：
  1. 弹窗中取消勾选某个上下文项时，该项内容不应出现在最终追加的 Prompt 中。
  2. 取消勾选时，对应的 Switch 开关应变为禁用（Disabled）状态。
  3. 勾选状态应能通过 `update_conditional_prompt_active` 命令持久化到配置文件中。
- 运行方式：
  1. 打开寸止弹窗。
  2. 在“上下文追加”区域取消勾选某项（如“是否生成测试脚本”）。
  3. 输入文字并提交，验证后端收到的 Prompt 中不包含该项的模板内容。
  4. 重启应用，验证该项仍处于未勾选状态。
- 状态：verified

---

## R-2024-022 iterate.app 更新后工具同步

- 关联问题：P-2024-022
- 类型：脚本检查
- 位置：`update.sh`
- 关键断言：
  1. 新增 MCP 工具后，运行 `./update.sh`
  2. 检查 `/Applications/iterate.app/Contents/MacOS/iterate` 的 MD5 与 `target/release/iterate` 相同
  3. 检查 `/Applications/iterate.app/Contents/MacOS/寸止` 的 MD5 与 `target/release/寸止` 相同
  4. 重启 iterate.app，确认新工具显示在工具列表中
- 运行方式：
  ```bash
  md5 /Applications/iterate.app/Contents/MacOS/iterate target/release/iterate
  md5 /Applications/iterate.app/Contents/MacOS/寸止 target/release/寸止
  ```
- 状态：verified

---

## R-2026-001 iOS & Web 升级 Feed 模式与 Appwrite 同步验证

- **类型**: 手工检查
- **P-ID**: P-2026-001
- **步骤**:
    1. 在 iOS App 中进入 Gallery 页面，确认布局已变为单列 Feed 模式。
    2. 确认图片按原比例完整显示，且在大屏（iPad/Mac）上有限宽。
    3. 在 Web 端 `monoshot-vault` 确认布局同步为 Feed 模式。
    4. 在 iOS 端新增或删除截图，观察 Appwrite 控制台数据变化。
    5. 刷新 Web 端，确认云端数据已同步拉取并展示。
- **状态**: verified
- **日期**: 2026-01-07

- 关联问题：P-2024-001
- 类型：流程验证
- 关键断言：全局知识库写入、提交、推送流程正常
- 运行方式：手工验证

---

## R-2025-001 自动备份功能验证

- 关联问题：P-2025-001
- 类型：手工检查
- 位置：`~/Library/Application Support/replace-information/backups/`
- 关键断言：
  1. 应用启动 3 秒后，备份目录应出现新的 `backup_YYYY-MM-DD...` 子目录。
  2. 备份目录内应包含完整的 `config.json` 和 `IndexedDB` 文件夹。
  3. 修改数据后，等待 30 分钟或调用 `backup.now()`，应产生新的备份点。
  4. 手动删除 `config.json` 后，通过 `backup.restore(name)` 应能成功恢复数据。
- 运行方式：
  1. 打开应用，检查日志确认 `✅ 自动备份完成`。
  2. 进入 Finder 查看备份文件完整性。
  3. 执行 `window.electronAPI.backup.list()` 验证列表输出。

## R-2024-002 WindowSwitcher 上下箭头切换窗口置顶

- 关联问题：P-2024-002
- 类型：手工检查
- 位置：`src/frontend/components/common/WindowSwitcher.vue`
- 关键断言：
  1. 打开多个 iterate 窗口并列显示
  2. 按 Tab 键打开窗口选择器
  3. 使用上下箭头切换选中行
  4. 每次切换时，对应窗口应实时置顶显示
- 运行方式：手工测试验证
- 代码检查点：确保 `handleKeydown` 中 ArrowUp/ArrowDown 分支调用了 `activateWindowAtIndex(selectedIndex.value)`

---

## R-2024-003 GUI 标题栏显示完整路径

- 关联问题：P-2024-003
- 类型：手工检查
- 关键断言：GUI 标题栏显示完整项目路径，可区分同名项目
- 运行方式：手工验证

---

## R-2024-005 Supabase RLS anon 角色权限

- 关联问题：P-2024-005
- 类型：手工检查
- 关键断言：anon 角色可正常查询和更新密钥数据
- 运行方式：手工验证

---

## R-2024-051 AI-Sidebar NotebookLM 标题捕获失败

- 关联问题：P-2024-051
- 类型：手工检查
- 关键断言：
  1. 在 AI-Sidebar 中打开 NotebookLM 页面
  2. 收藏该页面
  3. 检查收藏标题是否显示实际项目名称（非 "NotebookLM" 或 "Untitled"）
- 运行方式：手工验证

---

## R-2024-052 Shift+Tab 恢复窗口时最后操作的窗口应置顶

- 关联问题：P-2024-052
- 类型：手工检查
- 关键断言：
  1. 打开多个 iterate 窗口 A、B
  2. 在窗口 A 按 Tab 最小化
  3. 在窗口 B 按 Tab 最小化
  4. 按 Shift+Tab 恢复所有窗口
  5. 窗口 B（最后最小化的）应在最上层获得焦点
- 运行方式：手工验证
- 状态：待修复后验证（P-2024-052 状态为 open）

---

## R-2024-053 iterate 中文输入候选栏移位

- 关联问题：P-2024-053
- 类型：手工检查
- 关键断言：
  1. 打开 iterate 窗口
  2. 切换到中文输入法
  3. 拖动移动窗口位置
  4. 输入中文时候选栏应跟随窗口位置正确显示
- 运行方式：手工验证

---

## R-2024-054 iterate 首次启动缺少 config.json 导致主题异常

- 关联问题：P-2024-054
- 类型：手工检查
- 关键断言：
  1. 删除 config.json 文件模拟首次启动
  2. 启动应用
  3. 主题应正常显示（使用默认值）
- 运行方式：手工验证

---

## R-2024-055 iterate 多开时配置不同步

- 关联问题：P-2024-055
- 类型：手工检查
- 关键断言：
  1. 打开两个 iterate 实例
  2. 在实例 A 修改配置
  3. 切换到实例 B，焦点变化后配置应同步更新
- 运行方式：手工验证

---

## R-2024-056 iterate GitHub Actions 构建白屏

- 关联问题：P-2024-056
- 类型：CI 验证
- 关键断言：
  1. 触发 GitHub Actions 构建
  2. 下载构建产物
  3. 启动应用，界面应正常显示（非白屏）
- 运行方式：CI 验证

---

## R-2024-057 iterate pnpm 版本冲突

- 关联问题：P-2024-057
- 类型：CI 验证
- 关键断言：
  1. GitHub Actions 中 pnpm 版本应从 package.json 自动读取
  2. CI 构建不应因版本冲突失败
- 运行方式：CI 验证

---

## R-2024-058 信息过滤器 EPUB 封面提取失败

- 关联问题：P-2024-058
- 类型：手工检查
- 关键断言：
  1. 导入多种格式的 EPUB 书籍
  2. 检查封面是否正确显示
  3. 覆盖 meta cover-image、manifest、文件名匹配三种提取方式
- 运行方式：手工验证

---

## R-2024-059 信息过滤器 localStorage 超限

- 关联问题：P-2024-059
- 类型：手工检查
- 关键断言：
  1. 导入大量带封面的书籍
  2. 封面应被压缩存储
  3. localStorage 不应超限报错
- 运行方式：手工验证

---

## R-2024-060 tobooks Cmd+Enter 保存笔记无效

- 关联问题：P-2024-060
- 类型：手工检查
- 关键断言：
  1. 打开 tobooks 笔记编辑框
  2. 输入内容后按 Cmd+Enter
  3. 笔记应成功保存
- 运行方式：手工验证

---

## R-2024-061 tobooks 高亮功能导致内容消失

- 关联问题：P-2024-061
- 类型：手工检查
- 关键断言：
  1. 选中一段文本
  2. 添加高亮
  3. 文本内容应完整保留，不应消失
- 运行方式：手工验证

---

## R-2024-062 zhuyili 微信支付功能异常

- 关联问题：P-2024-062
- 类型：手工检查
- 关键断言：
  1. 点击购买按钮
  2. 应正确响应并进入支付流程
  3. 试用次数逻辑正常
- 运行方式：手工验证

---

## R-2024-063 zhuyili 二维码不显示

- 关联问题：P-2024-063
- 类型：手工检查
- 关键断言：
  1. 触发微信支付流程
  2. 支付二维码应正常显示
- 运行方式：手工验证

---

## R-2024-064 zhuyili OAuth 回调 URL 跳回本地

- 关联问题：P-2024-064
- 类型：手工检查
- 关键断言：
  1. 在生产环境点击 Google 登录
  2. 完成授权后应回调到正式域名
  3. 不应跳转到 localhost
- 运行方式：手工验证

---

## R-2024-065 视频侧边栏与视频未实时联动

- 关联问题：P-2024-065
- 类型：手工检查
- 关键断言：
  1. 打开带侧边栏的视频页面
  2. 调整视频大小或窗口大小
  3. 侧边栏应实时同步调整位置
- 运行方式：手工验证

---

## R-2024-066 视频侧边栏切换视频后字幕加载失败

- 关联问题：P-2024-066
- 类型：手工检查
- 关键断言：
  1. 在 YouTube 播放一个视频并加载字幕
  2. 切换到另一个视频
  3. 字幕应正常加载（首次即成功）
- 运行方式：手工验证

---

## R-2024-067 久坐通知 Service Worker 缓存问题

- 关联问题：P-2024-067
- 类型：手工检查
- 关键断言：
  1. 部署新版本应用
  2. 用户刷新页面
  3. 应获取最新版本（非缓存旧版本）
- 运行方式：手工验证

---

## R-2024-068 久坐通知 iPhone 通知权限问题

- 关联问题：P-2024-068
- 类型：手工检查
- 关键断言：
  1. 在 iPhone Safari 中打开应用
  2. 添加到主屏幕（安装 PWA）
  3. 授予通知权限后应能正常收到通知
- 运行方式：手工验证

---

## R-2024-069 网页看书目录按钮嵌套显示

- 关联问题：P-2024-069
- 类型：手工检查
- 关键断言：
  1. 点击目录按钮显示目录
  2. 再次点击目录按钮
  3. 目录应隐藏（非嵌套显示）
- 运行方式：手工验证

---

## R-2024-070 网页看书 Edge 浏览器兼容性问题

- 关联问题：P-2024-070
- 类型：手工检查
- 关键断言：
  1. 在 Edge 浏览器中打开应用
  2. 滚动和显示应正常
  3. 无 CSS 兼容性问题
- 运行方式：手工验证

---

## R-2024-111 ClipBook 删除时 bug

- 关联问题：P-2024-111
- 类型：手工检查
- 位置：N/A
- 关键断言：删除剪贴板项目时不出错，项目正确从列表中移除
- 运行方式：手工验证

---

## R-2024-112 ClipBook 初始状态 bug

- 关联问题：P-2024-112
- 类型：手工检查
- 位置：N/A
- 关键断言：应用启动时初始状态正常，骨架可拖拽
- 运行方式：手工验证

---

## R-2024-113 ClipBook HTML 和代码被忽略

- 关联问题：P-2024-113
- 类型：手工检查
- 位置：N/A
- 关键断言：复制 HTML 和代码时内容正确保存和显示
- 运行方式：手工验证

---

## R-2024-114 twscrape OTP 验证码问题

- 关联问题：P-2024-114
- 类型：手工检查
- 位置：N/A
- 关键断言：OTP 验证码能正确解析和提交
- 运行方式：手工验证

---

## R-2024-115 twscrape 登录时无 ct0 cookie

- 关联问题：P-2024-115
- 类型：手工检查
- 位置：N/A
- 关键断言：登录时能正确获取 ct0 cookie，登录流程正常完成
- 运行方式：手工验证

---

## R-2024-116 twscrape 登录无限循环

- 关联问题：P-2024-116
- 类型：手工检查
- 位置：N/A
- 关键断言：使用不存在的账户登录时不会进入无限循环，正确报错
- 运行方式：手工验证

---

## R-2024-117 git-worktree-manager 翻译问题

- 关联问题：P-2024-117
- 类型：手工检查
- 位置：N/A
- 关键断言：界面翻译显示正确
- 运行方式：手工验证

---

## R-2024-118 git-worktree-manager worktree 事件监听

- 关联问题：P-2024-118
- 类型：手工检查
- 位置：N/A
- 关键断言：worktree 变化时界面实时更新
- 运行方式：手工验证

---

## R-2024-119 git-worktree-manager 移动 worktree 问题

- 关联问题：P-2024-119
- 类型：手工检查
- 位置：N/A
- 关键断言：移动 worktree 操作正常完成，无报错
- 运行方式：手工验证

---

## R-2024-120 RI 开发版本无法访问原有数据

- 关联问题：P-2024-120
- 类型：手工检查
- 位置：N/A
- 关键断言：开发版本能正确访问默认数据目录中的原有数据
- 运行方式：手工验证

---

## R-2024-121 RI 文字颜色显示问题

- 关联问题：P-2024-121
- 类型：手工检查
- 位置：N/A
- 关键断言：文字颜色显示正确，切换模式时自动保存
- 运行方式：手工验证

---

## R-2024-122 RI 主窗口和笔记窗口在全屏应用前来回跳动

- 关联问题：P-2024-122
- 类型：手工检查
- 位置：N/A
- 关键断言：在 macOS 全屏应用环境下，主窗口和笔记窗口位置稳定不跳动
- 运行方式：手工验证

---

## R-2024-123 ClipBook 本地化 Help 菜单 bug

- 关联问题：P-2024-123
- 类型：手工检查
- 位置：N/A
- 关键断言：Help tray menu 本地化显示正确
- 运行方式：手工验证

---

## R-2024-124 zhuyili 主页完成按钮需点两次

- 关联问题：P-2024-124
- 类型：手工检查
- 位置：N/A
- 关键断言：主页完成按钮点击一次即可生效，handleButtonAction 正确 await 异步操作
- 运行方式：手工验证

---

## R-2024-125 zhuyili 活动记录云端同步失败

- 关联问题：P-2024-125
- 类型：手工检查
- 位置：N/A
- 关键断言：活动记录能正确同步到云端
- 运行方式：手工验证

---

## R-2024-126 wechat-spider avatar 和 abstract 设置问题

- 关联问题：P-2024-126
- 类型：手工检查
- 位置：N/A
- 关键断言：头像和摘要显示正常，空值时正确处理
- 运行方式：手工验证

---

## R-2024-127 Strong-Iterate App 视图退出逻辑

- 关联问题：P-2024-127
- 类型：手工检查
- 位置：N/A
- 关键断言：关闭按钮能正确隐藏 apps-view
- 运行方式：手工验证

---

## R-2024-128 ClipBook 快捷键注册失败导致崩溃

- 关联问题：P-2024-128
- 类型：手工检查
- 位置：N/A
- 关键断言：快捷键注册失败时不崩溃，状态正确重置为空
- 运行方式：手工验证

---

## R-2024-129 ClipBook 显示/隐藏详情时崩溃

- 关联问题：P-2024-129
- 类型：手工检查
- 位置：N/A
- 关键断言：点击显示/隐藏详情按钮时不崩溃，状态正常切换
- 运行方式：手工验证

---

## R-2024-130 ClipBook 启动时崩溃

- 关联问题：P-2024-130
- 类型：手工检查
- 位置：N/A
- 关键断言：应用启动时不崩溃，正常初始化
- 运行方式：手工验证

---

## R-2024-091 Full-screen-prompt 图标格式错误

- 关联问题：P-2024-091
- 类型：手工检查
- 关键断言：应用图标正常显示，窗口边缘可拖拽
- 运行方式：手工验证

---

## R-2024-092 twscrape 部署问题

- 关联问题：P-2024-092
- 类型：手工检查
- 关键断言：部署后爬虫正常运行，实时爬取功能正常
- 运行方式：部署验证

---

## R-2024-093 hack-airdrop Railway/Vercel 部署配置问题

- 关联问题：P-2024-093
- 类型：手工检查
- 关键断言：Railway 端口配置正确，Vercel 部署成功
- 运行方式：部署验证

---

## R-2024-094 Attention-Span 计时器暂停时间计算错误

- 关联问题：P-2024-094
- 类型：手工检查
- 关键断言：暂停计时器后恢复时，时间计算正确，暂停时间从总时间中正确扣除
- 运行方式：手工验证

---

## R-2024-095 Attention-Span 重复记录问题

- 关联问题：P-2024-095
- 类型：手工检查
- 关键断言：同一计时记录不会被重复保存，防抖机制生效
- 运行方式：手工验证

---

## R-2024-096 DDK 跑步愿望图片路径错误

- 关联问题：P-2024-096
- 类型：手工检查
- 关键断言：跑步愿望图片正常显示，路径引用正确
- 运行方式：手工验证

---

## R-2024-097 DDK 文字重叠问题

- 关联问题：P-2024-097
- 类型：手工检查
- 关键断言：页面文字无重叠，CSS 布局正常
- 运行方式：手工验证

---

## R-2024-098 编程网站中文引号语法错误

- 关联问题：P-2024-098
- 类型：手工检查
- 关键断言：代码中无中文引号，语法正确
- 运行方式：手工验证

---

## R-2024-099 aliyun-deploy Supabase URL 配置错误

- 关联问题：P-2024-099
- 类型：手工检查
- 关键断言：阿里云部署后 Supabase 连接成功，环境变量配置正确
- 运行方式：部署验证

---

## R-2024-100 RI 多桌面/全屏 Space 窗口跳动

- 关联问题：P-2024-100
- 类型：手工检查
- 关键断言：在 macOS 多桌面或全屏 Space 环境下，窗口无跳动，清理启动脚本正常工作
- 运行方式：手工验证

---

## R-2024-101 Note-taking-tool 标题被 CSS 污染

- 关联问题：P-2024-101
- 类型：手工检查
- 关键断言：提取标题时跳过 style/script 标签，不包含 CSS 样式文本
- 运行方式：手工验证

---

## R-2024-102 Note-taking-tool 沉浸式翻译插件按钮重叠

- 关联问题：P-2024-102
- 类型：手工检查
- 关键断言：安装沉浸式翻译浏览器插件后，按钮无重叠
- 运行方式：手工验证

---

## R-2024-103 wechat-spider 保存图片到 OSS 问题

- 关联问题：P-2024-103
- 类型：手工检查
- 关键断言：图片正确保存到 OSS，上传逻辑正常
- 运行方式：手工验证

---

## R-2024-104 Strong-Iterate navBackButton 未定义

- 关联问题：P-2024-104
- 类型：手工检查
- 关键断言：点击关闭按钮无报错，navBackButton 变量已正确定义
- 运行方式：手工验证

---

## R-2024-105 Strong-Iterate Web/Crawler 视图退出逻辑

- 关联问题：P-2024-105
- 类型：手工检查
- 关键断言：关闭按钮正确隐藏 web-projects-view 和 crawlers-view
- 运行方式：手工验证

---

## R-2024-106 kotadb MCP tool schema localPath 参数问题

- 关联问题：P-2024-106
- 类型：手工检查
- 关键断言：MCP tool schema 中无 localPath 参数，工具调用正常
- 运行方式：手工验证

---

## R-2024-107 Strong-Iterate HTML 语法错误

- 关联问题：P-2024-107
- 类型：手工检查
- 关键断言：HTML 语法正确，页面渲染正常
- 运行方式：手工验证

---

## R-2024-108 tobooks text-to-epub 页面高度问题

- 关联问题：P-2024-108
- 类型：手工检查
- 关键断言：text-to-epub.html 页面高度显示正确
- 运行方式：手工验证

---

## R-2024-109 播客 fs 变量重复声明

- 关联问题：P-2024-109
- 类型：手工检查
- 关键断言：启动无变量重复声明错误，fs 模块只声明一次
- 运行方式：手工验证

---

## R-2024-110 kexin-podcast DELETE API 参数类型问题

- 关联问题：P-2024-110
- 类型：手工检查
- 关键断言：DELETE /api/podcasts/:id 接受数字 ID，API 幂等不返回 404
- 运行方式：手工验证

---

## R-2024-071 注意力追踪器计时器占位符闪烁

- 关联问题：P-2024-071
- 类型：手工检查
- 关键断言：计时器继续/暂停时数字占位符不闪烁，状态切换平滑无重绘
- 运行方式：手工验证

---

## R-2024-072 播客 Cloudinary 存储配置问题

- 关联问题：P-2024-072
- 类型：手工检查
- 关键断言：上传播客文件后能正确获取 Cloudinary URL，不回退到本地 /uploads 路径
- 运行方式：手工验证

---

## R-2024-073 背单词网页 YouTube 字幕获取失败

- 关联问题：P-2024-073
- 类型：手工检查
- 关键断言：能够通过 YouTube timedtext API 正确获取 WebVTT 格式字幕
- 运行方式：手工验证

---

## R-2024-074 时间追踪器 Enter 键跳转问题

- 关联问题：P-2024-074
- 类型：手工检查
- 关键断言：按 Enter 键能正确跳转到计时页面，无跳转条件冲突
- 运行方式：手工验证

---

## R-2024-075 Slash-Command-Prompter 模式切换后斜杠命令菜单不同步

- 关联问题：P-2024-075
- 类型：手工检查
- 关键断言：切换模式后，斜杠命令菜单显示当前选中模式的提示词，而非第一个模式
- 运行方式：手工验证

---

## R-2024-076 Slash-Command-Prompter 提示词上移仅在当前模式内有效

- 关联问题：P-2024-076
- 类型：手工检查
- 关键断言：提示词上移操作仅在当前模式内移动，不影响其他模式
- 运行方式：手工验证

---

## R-2024-077 微信公众号爬虫搜索失效

- 关联问题：P-2024-077
- 类型：手工检查
- 关键断言：搜索公众号功能正常，已适配微信新版接口
- 运行方式：手工验证

---

## R-2024-078 沉浸式写作页面跳动

- 关联问题：P-2024-078
- 类型：手工检查
- 关键断言：输入文字时页面不跳动，调整 textarea 高度时保持滚动位置
- 运行方式：手工验证

---

## R-2024-079 git-worktree-manager 路径解析错误

- 关联问题：P-2024-079
- 类型：手工检查
- 关键断言：在任意目录下执行命令时 git 路径正确解析，使用正确的 mainFolder
- 运行方式：手工验证

---

## R-2024-080 震动 App 数字输入双重输入

- 关联问题：P-2024-080
- 类型：手工检查
- 关键断言：数字输入框无双重输入问题，输入框之间无缝切换
- 运行方式：手工验证

---

## R-2024-081 ClipBook 退出时历史记录未清除

- 关联问题：P-2024-081
- 类型：手工检查
- 关键断言：退出应用时历史记录正确清除
- 运行方式：手工验证

---

## R-2024-082 看书神器下载文件名编码问题

- 关联问题：P-2024-082
- 类型：手工检查
- 关键断言：下载文件时中文文件名正确显示，无乱码
- 运行方式：手工验证

---

## R-2024-083 acemcp Google Antigravity MCP invalid trailing data 错误

- 关联问题：P-2024-083
- 类型：手工检查
- 关键断言：调用 Google Antigravity MCP 时无 "invalid trailing data" 错误，stdio 流使用 UTF-8 编码
- 运行方式：手工验证

---

## R-2024-084 RI 笔记功能多个关键问题

- 关联问题：P-2024-084
- 类型：手工检查
- 关键断言：
  1. 列表项编辑后使用 updateWord 正确保存
  2. 笔记导出按钮保存后主页自动刷新
- 运行方式：手工验证

---

## R-2024-085 Strong-Iterate 微信验证文件部署失败

- 关联问题：P-2024-085
- 类型：手工检查
- 关键断言：微信验证文件位于 public 文件夹，部署后可在网站根目录访问
- 运行方式：手工验证

---

## R-2024-086 笔记升级工具按钮大小不一致

- 关联问题：P-2024-086
- 类型：手工检查
- 关键断言：清理缓存按钮与其他按钮大小一致
- 运行方式：手工验证

---

## R-2024-087 codex-watcher 侧边栏重渲染后高亮丢失

- 关联问题：P-2024-087
- 类型：手工检查
- 关键断言：侧边栏重新渲染后，活动会话高亮状态保留，每个来源的最后打开状态恢复
- 运行方式：手工验证

---

## R-2024-088 codex-watcher DOMPurify 下展开/折叠失效

- 关联问题：P-2024-088
- 类型：手工检查
- 关键断言：使用 DOMPurify 后展开/折叠按钮点击有效，使用事件委托替代 inline onclick
- 运行方式：手工验证

---

## R-2024-089 kexin-podcast Render 部署 SQLite3 构建失败

- 关联问题：P-2024-089
- 类型：部署验证
- 关键断言：部署到 Render 时 SQLite3 构建成功，包含必要的构建依赖
- 运行方式：部署验证

---

## R-2024-090 Full-screen-prompt 删除功能异常

- 关联问题：P-2024-090
- 类型：手工检查
- 关键断言：删除提示词功能正常，自定义确认对话框工作正确
- 运行方式：手工验证

---

## R-2024-031 RI-Flow 快捷键不起作用

- 关联问题：P-2024-031
- 类型：手工检查
- 关键断言：确保应用运行、无快捷键冲突、重启后快捷键正常响应
- 运行方式：手工验证

---

## R-2024-032 YouTube-Transcript 侧边栏高度自适应问题

- 关联问题：P-2024-032
- 类型：手工检查
- 关键断言：侧边栏高度随视频页面自适应调整
- 运行方式：手工验证

---

## R-2024-033 Chrome 扩展历史记录不显示

- 关联问题：P-2024-033
- 类型：手工检查
- 关键断言：
  1. Chrome Storage 权限已授予
  2. 非隐私模式下历史记录正常显示
  3. 清除浏览器数据后重新记录
- 运行方式：手工验证

---

## R-2024-034 Chrome 扩展提供商加载失败

- 关联问题：P-2024-034
- 类型：手工检查
- 关键断言：清空缓存、重新加载扩展后，AI 提供商正常加载
- 运行方式：手工验证

---

## R-2024-035 Electron 桌面应用窗口无法显示

- 关联问题：P-2024-035
- 类型：手工检查
- 关键断言：
  1. 应用有辅助功能权限（系统偏好设置 → 安全性与隐私 → 辅助功能）
  2. 重启后窗口正常显示
- 运行方式：手工验证

---

## R-2024-036 Chrome 扩展数据本地存储安全说明

- 关联问题：P-2024-036
- 类型：手工检查
- 关键断言：FAQ 中明确说明数据存储位置（本地浏览器，Attention Tracker 除外）
- 运行方式：文档验证

---

## R-2024-037 EPUB 切书工具脚本权限问题

- 关联问题：P-2024-037
- 类型：手工检查
- 关键断言：首次运行自动设置权限或手动 `chmod +x 切书神技.zsh` 后正常执行
- 运行方式：手工验证

---

## R-2024-038 寸止 MCP 工具配置问题

- 关联问题：P-2024-038
- 类型：手工检查
- 关键断言：
  1. MCP 客户端配置正确：`{ "mcpServers": { "寸止": { "command": "寸止" } } }`
  2. 寸止命令在 PATH 中
  3. MCP 客户端成功连接
- 运行方式：手工验证

---

## R-2024-039 Slash-Command-Prompter 提示词上移跨模式问题

- 关联问题：P-2024-039
- 类型：手工检查
- 关键断言：提示词上移操作仅影响当前模式，不影响其他模式顺序
- 运行方式：手工验证

---

## R-2024-040 Slash-Command-Prompter 斜杠菜单误触发

- 关联问题：P-2024-040
- 类型：手工检查
- 关键断言：斜杠菜单仅在正确条件下触发，无误触发情况
- 运行方式：手工验证

---

## R-2024-041 Chrome 扩展删除模式丢失所有数据

- 关联问题：P-2024-041
- 类型：手工检查
- 关键断言：文档中明确说明"删除模式会同时删除该模式下的所有单词"
- 运行方式：文档验证

---

## R-2024-042 Node.js 应用部署到静态托管平台失败

- 关联问题：P-2024-042
- 类型：手工检查
- 关键断言：文档说明 Node.js 应用需部署到支持后端的平台（Render/Railway/Vercel/Heroku）
- 运行方式：文档验证

---

## R-2024-043 Web 应用震动功能在桌面端无效

- 关联问题：P-2024-043
- 类型：手工检查
- 关键断言：文档说明"震动功能需要设备支持，主要在移动设备上有效"
- 运行方式：文档验证

---

## R-2024-044 Web 应用音频提示需要用户授权

- 关联问题：P-2024-044
- 类型：手工检查
- 关键断言：文档说明"音频提示功能需要用户授权"
- 运行方式：文档验证

---

## R-2024-045 macOS 终端通知权限未授予

- 关联问题：P-2024-045
- 类型：手工检查
- 关键断言：系统偏好设置 → 通知与专注模式 → 终端有通知权限后，通知正常显示
- 运行方式：手工验证

---

## R-2024-046 macOS 语音功能未启用

- 关联问题：P-2024-046
- 类型：手工检查
- 关键断言：系统偏好设置 → 辅助功能 → 语音 → 启用后语音提示正常
- 运行方式：手工验证

---

## R-2024-047 Shell 配置未重新加载

- 关联问题：P-2024-047
- 类型：手工检查
- 关键断言：`source ~/.zshrc` 或重启终端后，"开始"命令可用
- 运行方式：手工验证

---

## R-2024-048 12306 抢票脚本 ChromeDriver 版本问题

- 关联问题：P-2024-048
- 类型：手工检查
- 关键断言：webdriver-manager 自动管理 ChromeDriver，脚本正常运行
- 运行方式：手工验证

---

## R-2024-049 12306 抢票脚本登录后页面卡住

- 关联问题：P-2024-049
- 类型：手工检查
- 关键断言：网络正常情况下，登录后页面不卡住
- 运行方式：手工验证

---

## R-2024-050 RI index.html 文件被意外清空

- 关联问题：P-2024-050
- 类型：手工检查
- 关键断言：
  1. index.html 文件内容完整
  2. 如被清空可通过 `git show HEAD:index.html > index.html` 恢复
- 运行方式：手工验证

---

## R-2024-007 笔记窗口 Cmd+B 加粗时画面跳动

- 关联问题：P-2024-007
- 类型：手工检查
- 关键断言：
  1. 打开笔记窗口，输入超过一屏的文字内容
  2. 选中中间位置的文字
  3. 按 Cmd+B 加粗选中文字
  4. 画面不应自动滚动，光标位置保持不变
- 运行方式：手工验证

---

## R-2024-023 Electron/macOS HTML5 拖拽被立即取消

- 关联问题：P-2024-023
- 类型：手工检查
- 关键断言：
  1. 在 macOS 上打开 RI 应用侧栏拖拽模式
  2. 拖拽侧栏项目进行排序
  3. 拖拽过程中应显示悬浮预览，而非被立即取消
  4. 拖拽完成后顺序正确更新
- 运行方式：手工验证

---

## R-2024-024 笔记内容因防抖机制丢失

- 关联问题：P-2024-024
- 类型：手工检查
- 关键断言：
  1. 上传图片后立即切换模式，图片应保留
  2. 输入文字后立即切换模式，文字应保留
  3. 窗口失去焦点时，内容应自动保存
  4. 关闭窗口前，内容应强制保存
- 运行方式：手工验证

---

## R-2024-025 IndexedDB 数据库锁定导致启动失败

- 关联问题：P-2024-025
- 类型：手工检查
- 关键断言：
  1. 应用正常启动，无 LevelDB LOCK 错误
  2. 若遇到锁定问题，`pkill -f "replace-information"` 可解决
- 运行方式：手工验证

---

## R-2024-026 IPC 事件语义混淆导致笔记内容串联

- 关联问题：P-2024-026
- 类型：手工检查
- 关键断言：
  1. 切换模式后，笔记内容应为当前模式的内容
  2. `modes-sync` 事件只同步列表，不改变当前状态
  3. 模式切换只通过 `mode-changed` 事件触发
- 运行方式：手工验证

---

## R-2024-027 AI-Sidebar 提供商登录页无法在 iframe 加载

- 关联问题：P-2024-027
- 类型：手工检查
- 关键断言：
  1. 打开 AI-Sidebar 侧边栏
  2. 选择 Gemini/Google 等需要登录的提供商
  3. 应显示 "Open in Tab" 按钮作为降级方案
  4. 点击后在新标签页中完成登录，侧边栏恢复正常
- 运行方式：手工验证

---

## R-2024-028 ChatGPT 403 错误

- 关联问题：P-2024-028
- 类型：手工检查
- 关键断言：
  1. 先在普通标签页打开 ChatGPT 完成初始检查
  2. 之后侧边栏可正常访问 ChatGPT
- 运行方式：手工验证

---

## R-2024-029 Chrome 扩展 Tab 键切换失效

- 关联问题：P-2024-029
- 类型：手工检查
- 关键断言：
  1. 确保侧边栏处于焦点状态
  2. 在侧边栏空白区域点击后按 Tab 键
  3. 应能正常切换提供商
- 运行方式：手工验证

---

## R-2024-030 久坐提醒 iPhone 后台推送失败

- 关联问题：P-2024-030
- 类型：手工检查
- 关键断言：
  1. iOS 版本 ≥ 16.4
  2. 通过"添加到主屏幕"安装 PWA
  3. 已授予通知权限
  4. 应用在后台运行时可收到推送
- 运行方式：手工验证

---

## R-2024-131 codex-watcher 本地 vendor 404/MIME 错误

- 关联问题：P-2024-131
- 类型：手工检查
- 位置：N/A
- 关键断言：
  1. 加载 codex-watcher 页面无 404 或 MIME 类型错误
  2. 仅使用 CDN 加载 vendor 资源
  3. 页面功能正常运行
- 运行方式：手工验证

---

## R-2024-132 git-worktree-manager getNameRev 错误处理

- 关联问题：P-2024-132
- 类型：手工检查
- 位置：N/A
- 关键断言：
  1. getNameRev 函数执行出错时不抛出未捕获异常
  2. 错误被正确处理并返回合理的默认值
- 运行方式：手工验证

---

## R-2024-133 git-worktree-manager worktree pruning 问题

- 关联问题：P-2024-133
- 类型：手工检查
- 位置：N/A
- 关键断言：
  1. git worktree prune 操作正确执行
  2. 无效的 worktree 被正确清理
  3. 有效的 worktree 不受影响
- 运行方式：手工验证

---

## R-2024-134 kexin-podcast JavaScript 变量重复声明

- 关联问题：P-2024-134
- 类型：手工检查
- 位置：N/A
- 关键断言：
  1. 应用启动时无变量重复声明错误
  2. 控制台无相关报错
- 运行方式：手工验证

---

## R-2024-135 Slash-Command-Prompter mode 下拉菜单对齐问题

- 关联问题：P-2024-135
- 类型：手工检查
- 位置：N/A
- 关键断言：
  1. mode 下拉菜单与其他 UI 元素对齐正确
  2. 按钮间距统一
- 运行方式：手工验证

---

## R-2024-136 tobooks 搜索栏和按钮重叠

- 关联问题：P-2024-136
- 类型：手工检查
- 位置：N/A
- 关键断言：
  1. 顶部栏搜索栏和按钮不重叠
  2. 调整窗口大小时布局保持正确
  3. CSS Grid 布局正常工作
- 运行方式：手工验证

---

## R-2024-137 zhuyili Google 登录回调 URL 问题

- 关联问题：P-2024-137
- 类型：手工检查
- 位置：N/A
- 关键断言：
  1. Google 登录后正确回调到应用
  2. 登录流程完整无错误
- 运行方式：手工验证

---

## R-2024-138 ClipBook 多文件选择时布局问题

- 关联问题：P-2024-138
- 类型：手工检查
- 位置：N/A
- 关键断言：
  1. 选择多个文件时布局显示正常
  2. 批量粘贴多个文件功能正常
- 运行方式：手工验证

---

## R-2024-139 ClipBook 通用布局问题

- 关联问题：P-2024-139
- 类型：手工检查
- 位置：N/A
- 关键断言：
  1. 界面布局显示正确
  2. 各组件位置和尺寸正常
- 运行方式：手工验证

---

## R-2024-140 ClipBook 图片标题问题

- 关联问题：P-2024-140
- 类型：手工检查
- 位置：N/A
- 关键断言：
  1. 图片标题正确显示
  2. 右键菜单命令正常工作
- 运行方式：手工验证

---

## R-2024-141 kotadb orchestrator 原子代理签名不匹配

- 关联问题：P-2024-141
- 类型：手工检查
- 位置：N/A
- 关键断言：
  1. orchestrator.py 中所有代理函数签名与调用一致
  2. 无签名不匹配错误
- 运行方式：手工验证

---

## R-2024-142 zhuyili 活动记录不同步核心问题

- 关联问题：P-2024-142
- 类型：手工检查
- 位置：N/A
- 关键断言：
  1. 活动记录在设备间正确同步
  2. 同步逻辑无延迟或数据丢失
- 运行方式：手工验证

---

## R-2024-143 ClipBook 检查更新时死锁

- 关联问题：P-2024-143
- 类型：手工检查
- 位置：N/A
- 关键断言：
  1. 检查更新时应用不卡死
  2. 更新检查正常完成
- 运行方式：手工验证

---

## R-2024-144 kotadb 数据库 rate limit 更新问题

- 关联问题：P-2024-144
- 类型：手工检查
- 位置：N/A
- 关键断言：
  1. 数据库中已有的 rate limit 可正确更新
  2. 更新后数据一致性正确
- 运行方式：手工验证

---

## R-2024-145 tobooks intro 按钮链接错误

- 关联问题：P-2024-145
- 类型：手工检查
- 位置：N/A
- 关键断言：
  1. intro 按钮点击后跳转到正确的 URL
- 运行方式：手工验证

---

## R-2024-146 tobooks OG/Twitter 图片域名问题

- 关联问题：P-2024-146
- 类型：手工检查
- 位置：N/A
- 关键断言：
  1. og:image 使用完整的 Netlify 域名
  2. twitter:image 使用完整的 Netlify 域名
  3. 社交分享预览图片正常显示
- 运行方式：手工验证

---

## R-2024-147 zhuyili 详情页按钮完全点不动

- 关联问题：P-2024-147
- 类型：手工检查
- 位置：N/A
- 关键断言：
  1. 计时器详情页面的按钮可正常点击
  2. 事件委托正确绑定
- 运行方式：手工验证

---

## R-2024-148 kotadb v0.1.1 生产环境回滚

- 关联问题：P-2024-148
- 类型：手工检查
- 位置：N/A
- 关键断言：
  1. 生产环境版本稳定运行
  2. 回滚后功能正常
- 运行方式：生产环境验证

---

## R-2024-149 tobooks iOS 主屏独立模式扩展不可用

- 关联问题：P-2024-149
- 类型：手工检查
- 位置：N/A
- 关键断言：
  1. iOS standalone 模式下有适当的提示或降级方案
  2. 用户了解平台限制
- 运行方式：手工验证

---

## R-2024-150 git-worktree-manager worktree 列表处理重构问题

- 关联问题：P-2024-150
- 类型：手工检查
- 位置：N/A
- 关键断言：
  1. worktree 列表正确显示
  2. 列表操作（添加/删除/移动）正常工作
- 运行方式：手工验证

---

## R-2024-151 ClipBook 拼写错误

- 关联问题：P-2024-151
- 类型：手工检查
- 位置：N/A
- 关键断言：界面文本拼写正确
- 运行方式：手工验证

---

## R-2024-152 ClipBook 缺少依赖

- 关联问题：P-2024-152
- 类型：手工检查
- 位置：N/A
- 关键断言：应用正常启动和编译，无依赖缺失错误
- 运行方式：手工验证

---

## R-2024-153 ClipBook 预览面板边框缺失

- 关联问题：P-2024-153
- 类型：手工检查
- 位置：N/A
- 关键断言：预览面板边框正常显示
- 运行方式：手工验证

---

## R-2024-154 git-worktree-manager 国际化文本遗漏

- 关联问题：P-2024-154
- 类型：手工检查
- 位置：N/A
- 关键断言：所有界面文本正确翻译
- 运行方式：手工验证

---

## R-2024-155 iterate UnoCSS safelist 黑色变体问题

- 关联问题：P-2024-155
- 类型：手工检查
- 位置：N/A
- 关键断言：黑色相关 CSS 类正常生效
- 运行方式：手工验证

---

## R-2024-156 insidebar-ai Share 按钮布局不一致

- 关联问题：P-2024-156
- 类型：手工检查
- 位置：N/A
- 关键断言：/chats/ 和 /pages/ 页面的 Share 按钮功能正常
- 运行方式：手工验证

---

## R-2024-157 codex-watcher indexer_test vet 错误

- 关联问题：P-2024-157
- 类型：CI 验证
- 位置：N/A
- 关键断言：go vet 无 indexer_test 相关错误
- 运行方式：CI 验证

---

## R-2024-158 iterate 多开时配置不同步

- 关联问题：P-2024-158
- 类型：手工检查
- 位置：N/A
- 关键断言：多开应用时配置正确同步
- 运行方式：手工验证

---

## R-2024-159 zhuyili 生产环境 OAuth 回调跳回本地

- 关联问题：P-2024-159
- 类型：手工检查
- 位置：N/A
- 关键断言：生产环境 OAuth 回调到 Netlify 正式域名，无 "Cannot GET /" 错误
- 运行方式：手工验证

---

## R-2024-160 zhuyili 用户数据隔离和 JSON 导入同步

- 关联问题：P-2024-160
- 类型：手工检查
- 位置：N/A
- 关键断言：用户数据正确隔离，JSON 导入后数据同步
- 运行方式：手工验证

---

## R-2024-161 Strong-Iterate Netlify 部署 PNG/JPEG 扩展名问题

- 关联问题：P-2024-161
- 类型：部署验证
- 位置：N/A
- 关键断言：Netlify 部署后图片资源正常显示
- 运行方式：部署验证

---

## R-2024-162 Strong-Iterate JS 文件 404 问题

- 关联问题：P-2024-162
- 类型：部署验证
- 位置：N/A
- 关键断言：部署后 JS 文件正常加载
- 运行方式：部署验证

---

## R-2024-163 iterate proc-macro 编译问题

- 关联问题：P-2024-163
- 类型：CI 验证
- 位置：N/A
- 关键断言：proc-macro 正常编译
- 运行方式：CI 验证

---

## R-2024-164 twscrape 构建问题

- 关联问题：P-2024-164
- 类型：CI 验证
- 位置：N/A
- 关键断言：项目正常构建
- 运行方式：CI 验证

---

## R-2024-165 iterate 自定义 Telegram API URL 问题

- 关联问题：P-2024-165
- 类型：手工检查
- 位置：N/A
- 关键断言：自定义 Telegram API URL 功能完整，无硬编码 URL
- 运行方式：手工验证

---

## R-2024-166 tobooks /api/book-cutting 根路径访问问题

- 关联问题：P-2024-166
- 类型：手工检查
- 位置：N/A
- 关键断言：/api/book-cutting 根路径可正常访问
- 运行方式：手工验证

---

## R-2024-167 zhuyili 二维码不显示

- 关联问题：P-2024-167
- 类型：手工检查
- 位置：N/A
- 关键断言：二维码正常显示
- 运行方式：手工验证

---

## R-2024-168 背单词网页 YouTube 字幕 API 问题

- 关联问题：P-2024-168
- 类型：手工检查
- 位置：N/A
- 关键断言：YouTube 字幕通过 timedtext API 正常获取
- 运行方式：手工验证

---

## R-2024-169 codex-watcher 侧边栏高亮状态丢失

- 关联问题：P-2024-169
- 类型：手工检查
- 位置：N/A
- 关键断言：侧边栏重新渲染后活动会话高亮状态保留
- 运行方式：手工验证

---

## R-2024-170 Slash-Command-Prompter 模式切换后菜单同步问题

- 关联问题：P-2024-170
- 类型：手工检查
- 位置：N/A
- 关键断言：切换模式后斜杠命令菜单显示当前选中模式的提示词
- 运行方式：手工验证

---

## R-2024-171 tobooks 高亮菜单位置和文字加粗显示

- 关联问题：P-2024-171
- 类型：手工检查
- 位置：N/A
- 关键断言：高亮菜单位置正确，文字加粗正常显示
- 运行方式：手工验证

---

## R-2024-172 ClipBook 历史为空时拖拽区域 bug

- 关联问题：P-2024-172
- 类型：手工检查
- 位置：N/A
- 关键断言：历史记录为空时拖拽区域功能正常
- 运行方式：手工验证

---

## R-2024-173 ClipBook 深色/浅色模式滚动条问题

- 关联问题：P-2024-173
- 类型：手工检查
- 位置：N/A
- 关键断言：深色/浅色模式切换时滚动条样式正确
- 运行方式：手工验证

---

## R-2024-174 codex-watcher DOMPurify 下展开/折叠失效

- 关联问题：P-2024-174
- 类型：手工检查
- 位置：N/A
- 关键断言：使用事件委托后展开/折叠按钮点击有效
- 运行方式：手工验证

---

## R-2024-175 git-worktree-manager treeView 点击打开终端和文件夹

- 关联问题：P-2024-175
- 类型：手工检查
- 位置：N/A
- 关键断言：点击 treeView 可正常打开终端和文件夹
- 运行方式：手工验证

---

## R-2024-176 zhuyili 微信支付按钮点击事件绑定

- 关联问题：P-2024-176
- 类型：手工检查
- 位置：N/A
- 关键断言：微信支付购买按钮点击正常响应，试用次数逻辑正确
- 运行方式：手工验证

---

## R-2024-177 iterate 状态同步可能导致白屏

- 关联问题：P-2024-177
- 类型：手工检查
- 位置：N/A
- 关键断言：应用启动无白屏
- 运行方式：手工验证

---

## R-2024-178 kexin-podcast 本地 uploads 回退问题

- 关联问题：P-2024-178
- 类型：手工检查
- 位置：N/A
- 关键断言：部署后文件 URL 使用 Cloudinary，不回退到 /uploads
- 运行方式：手工验证

---

## R-2024-179 tobooks 高亮功能导致内容消失

- 关联问题：P-2024-179
- 类型：手工检查
- 位置：N/A
- 关键断言：使用高亮功能后内容不消失
- 运行方式：手工验证

---

## R-2024-180 ClipBook 随机窗口自动隐藏

- 关联问题：P-2024-180
- 类型：手工检查
- 位置：N/A
- 关键断言：应用窗口不会随机自动隐藏
- 运行方式：手工验证

---

## R-2024-181 ClipBook 活动应用为空时显示窗口问题

- 关联问题：P-2024-181
- 类型：手工检查
- 位置：N/A
- 关键断言：活动应用为空时显示窗口正常
- 运行方式：手工验证

---

## R-2024-182 iterate 移动窗口中文输入候选栏移位

- 关联问题：P-2024-182
- 类型：手工检查
- 位置：N/A
- 关键断言：移动窗口时中文输入法候选栏位置正确
- 运行方式：手工验证

---

## R-2024-183 tobooks Cmd+Enter 监听模式问题

- 关联问题：P-2024-183
- 类型：手工检查
- 位置：N/A
- 关键断言：Cmd+Enter 快捷键正常生效
- 运行方式：手工验证

---

## R-2024-184 iterate 增强快捷键默认值问题

- 关联问题：P-2024-184
- 类型：手工检查
- 位置：N/A
- 关键断言：增强快捷键功能符合预期
- 运行方式：手工验证

---

## R-2024-185 git-worktree-manager 更新保存仓库时缓存未刷新

- 关联问题：P-2024-185
- 类型：手工检查
- 位置：N/A
- 关键断言：更新保存的仓库后数据正确刷新
- 运行方式：手工验证

---

## R-2024-186 tobooks Cmd+Enter 保存笔记无效

- 关联问题：P-2024-186
- 类型：手工检查
- 位置：N/A
- 关键断言：按 Cmd+Enter 保存笔记正常生效
- 运行方式：手工验证

---

## R-2024-187 ClipBook 路径问题

- 关联问题：P-2024-187
- 类型：手工检查
- 位置：N/A
- 关键断言：文件路径处理正确
- 运行方式：手工验证

---

## R-2024-188 git-worktree-manager git 路径解析

- 关联问题：P-2024-188
- 类型：手工检查
- 位置：N/A
- 关键断言：execBase 函数中 git 路径解析正确
- 运行方式：手工验证

---

## R-2024-189 twscrape 解析链接计数问题

- 关联问题：P-2024-189
- 类型：手工检查
- 位置：N/A
- 关键断言：解析的链接计数正确
- 运行方式：手工验证

---

## R-2024-190 twscrape 用户资料中的 URL 问题

- 关联问题：P-2024-190
- 类型：手工检查
- 位置：N/A
- 关键断言：用户资料中的 URL 解析正确
- 运行方式：手工验证

---

## R-2024-191 tobooks 高亮加载错误处理

- 关联问题：P-2024-191
- 类型：手工检查
- 位置：N/A
- 关键断言：高亮加载失败时有正确的错误处理
- 运行方式：手工验证

---

## R-2024-192 zhuyili 主页完成按钮首次点击即生效

- 关联问题：P-2024-192
- 类型：手工检查
- 位置：N/A
- 关键断言：完成按钮首次点击即保存和重置
- 运行方式：手工验证

---

## R-2024-193 kotadb 管理账单按钮不可用

- 关联问题：P-2024-193
- 类型：手工检查
- 位置：N/A
- 关键断言：管理账单按钮点击正常响应
- 运行方式：手工验证

---

## R-2024-194 kotadb API 密钥页面自动获取

- 关联问题：P-2024-194
- 类型：手工检查
- 位置：N/A
- 关键断言：API 密钥页面加载时自动获取已有密钥
- 运行方式：手工验证

---

## R-2024-195 git-worktree-manager 视图条件和收藏操作

- 关联问题：P-2024-195
- 类型：手工检查
- 位置：N/A
- 关键断言：视图条件判断正确，收藏相关操作正常
- 运行方式：手工验证

---

## R-2024-196 iterate 重复 applyFontVariables 函数

- 关联问题：P-2024-196
- 类型：手工检查
- 位置：N/A
- 关键断言：代码中无重复函数定义
- 运行方式：手工验证

---

## R-2024-197 iterate Windows 路径编码问题

- 关联问题：P-2024-197
- 类型：手工检查
- 位置：N/A
- 关键断言：Windows 系统上 memory 功能路径编码正确
- 运行方式：手工验证

---

## R-2024-198 zhuyili 计时页面图标显示问题

- 关联问题：P-2024-198
- 类型：手工检查
- 位置：N/A
- 关键断言：计时页面图标正常显示
- 运行方式：手工验证

---

## R-2024-199 zhuyili 移动端标题被遮挡

- 关联问题：P-2024-199
- 类型：手工检查
- 位置：N/A
- 关键断言：移动端标题显示不被遮挡
- 运行方式：手工验证

---

## R-2024-200 久坐通知 Service Worker 缓存问题

- 关联问题：P-2024-200
- 类型：手工检查
- 位置：N/A
- 关键断言：应用可获取最新版本（网络优先策略）
- 运行方式：手工验证

---

## R-2024-201 tobooks 客户端书籍切割功能

- 关联问题：P-2024-201
- 类型：手工检查
- 位置：N/A
- 关键断言：客户端书籍切割功能与脚本要求匹配
- 运行方式：手工验证

---

## R-2024-202 播客 备份文件 Git 跟踪问题

- 关联问题：P-2024-202
- 类型：手工检查
- 位置：N/A
- 关键断言：备份文件不被 Git 跟踪
- 运行方式：手工验证

---

## R-2024-203 git-worktree-manager worktree 命令和刷新逻辑

- 关联问题：P-2024-203
- 类型：手工检查
- 位置：N/A
- 关键断言：worktree 命令执行和刷新逻辑正常
- 运行方式：手工验证

---

## R-2024-204 tobooks multipart 解析和代码结构

- 关联问题：P-2024-204
- 类型：手工检查
- 位置：N/A
- 关键断言：multipart 请求解析正常（使用 busboy）
- 运行方式：手工验证

---

## R-2024-205 tobooks Supabase 权限绕过

- 关联问题：P-2024-205
- 类型：手工检查
- 位置：N/A
- 关键断言：通过白名单绕过 Supabase 权限问题
- 运行方式：手工验证

---

## R-2024-206 久坐通知 iPhone 通知权限问题

- 关联问题：P-2024-206
- 类型：手工检查
- 位置：N/A
- 关键断言：iPhone 上 PWA 通知权限正常工作
- 运行方式：手工验证

---

## R-2024-207 tobooks 支付 API 地址问题

- 关联问题：P-2024-207
- 类型：手工检查
- 位置：N/A
- 关键断言：手机端支付功能正常（使用阿里云 FC 公网地址）
- 运行方式：手工验证

---

## R-2024-208 zhuyili 注意力跳动问题

- 关联问题：P-2024-208
- 类型：手工检查
- 位置：N/A
- 关键断言：注意力页面使用视图切换，无跳动
- 运行方式：手工验证

---

## R-2024-209 insidebar-ai DeepSeek Enter 键行为

- 关联问题：P-2024-209
- 类型：手工检查
- 位置：N/A
- 关键断言：DeepSeek 编辑旧消息时 Enter 键行为正确
- 运行方式：手工验证

---

## R-2024-210 insidebar-ai Perplexity Enter 键行为

- 关联问题：P-2024-210
- 类型：手工检查
- 位置：N/A
- 关键断言：Perplexity 编辑旧消息时 Enter 键行为正确
- 运行方式：手工验证

---

## R-2024-211 insidebar-ai Gemini Update 按钮检测

- 关联问题：P-2024-211
- 类型：手工检查
- 位置：N/A
- 关键断言：Gemini 的 Update 按钮可正确检测
- 运行方式：手工验证

---

## R-2024-212 Full-screen-prompt 多桌面/全屏 Space 窗口跳动

- 关联问题：P-2024-212
- 类型：手工检查
- 位置：N/A
- 关键断言：多桌面/全屏 Space 下窗口不跳回固定桌面
- 运行方式：手工验证

---

## R-2024-213 kexin-podcast 上传时 filename 为空

- 关联问题：P-2024-213
- 类型：手工检查
- 位置：N/A
- 关键断言：上传文件时 filename 不为空，无数据库约束错误
- 运行方式：手工验证

---

## R-2024-214 twscrape 媒体类型问题

- 关联问题：P-2024-214
- 类型：手工检查
- 位置：N/A
- 关键断言：媒体类型解析正确
- 运行方式：手工验证

---

## R-2024-215 tobooks 白名单 site 字段过滤不匹配

- 关联问题：P-2024-215
- 类型：手工检查
- 位置：N/A
- 关键断言：白名单检查时 site 字段过滤正确匹配
- 运行方式：手工验证

---

## R-2024-216 Full-screen-prompt 复制到剪贴板功能

- 关联问题：P-2024-216
- 类型：手工检查
- 位置：N/A
- 关键断言：点击提示词可正确复制到剪贴板
- 运行方式：手工验证

---

## R-2024-217 wechat-spider 微信改版搜索公众号失效

- 关联问题：P-2024-217
- 类型：手工检查
- 位置：N/A
- 关键断言：搜索公众号功能正常（适配微信改版）
- 运行方式：手工验证

---

## R-2024-218 RI 排序问题

- 关联问题：P-2024-218
- 类型：手工检查
- 位置：N/A
- 关键断言：最新保存的内容显示在列表顶部
- 运行方式：手工验证

---

## R-2024-219 RI 笔记保存功能迁移到 IndexedDB

- 关联问题：P-2024-219
- 类型：手工检查
- 位置：N/A
- 关键断言：note-window.js 笔记保存功能使用 IndexedDB
- 运行方式：手工验证

---

## R-2024-220 insidebar-ai 性能和验证问题

- 关联问题：P-2024-220
- 类型：手工检查
- 位置：N/A
- 关键断言：代码审计发现的性能和验证问题已修复
- 运行方式：手工验证

---

## R-2024-221 git-worktree-manager URI 处理问题

- 关联问题：P-2024-221
- 类型：手工检查
- 位置：N/A
- 关键断言：worktree 路径使用 Uri.parse 正确处理
- 运行方式：手工验证

---

## R-2024-222 tobooks Vercel 部署 ES6 模块格式

- 关联问题：P-2024-222
- 类型：部署验证
- 位置：N/A
- 关键断言：book-cutting.js 使用 ES6 模块格式，Vercel 部署成功
- 运行方式：部署验证

---

## R-2024-223 tobooks Vercel serverless 函数导出和 CORS

- 关联问题：P-2024-223
- 类型：部署验证
- 位置：N/A
- 关键断言：Vercel serverless 函数导出格式和 CORS 设置正确
- 运行方式：部署验证

---

## R-2024-224 zhuyili JSON 导入日期格式问题

- 关联问题：P-2024-224
- 类型：手工检查
- 位置：N/A
- 关键断言：JSON 导入时日期格式解析正确
- 运行方式：手工验证

---

## R-2024-225 ClipBook 启动时崩溃

- 关联问题：P-2024-225
- 类型：手工检查
- 位置：N/A
- 关键断言：应用正常启动，不崩溃
- 运行方式：手工验证

---

## R-2024-226 git-worktree-manager worktree 进程移除

- 关联问题：P-2024-226
- 类型：手工检查
- 位置：N/A
- 关键断言：worktree 进程移除正确
- 运行方式：手工验证

---

## R-2024-227 tobooks 高亮菜单遮挡内容

- 关联问题：P-2024-227
- 类型：手工检查
- 位置：N/A
- 关键断言：高亮菜单显示在选中文字下方，不遮挡内容
- 运行方式：手工验证

---

## R-2024-228 ClipBook bundle 提取应用名崩溃

- 关联问题：P-2024-228
- 类型：手工检查
- 位置：N/A
- 关键断言：从 bundle 提取应用名时不崩溃
- 运行方式：手工验证

---

## R-2024-229 iterate 只构建 CLI 避免打包问题

- 关联问题：P-2024-229
- 类型：CI 验证
- 位置：N/A
- 关键断言：只构建 CLI 二进制文件，无打包问题
- 运行方式：CI 验证

---

## R-2024-230 iterate Windows icon.ico 缺失

- 关联问题：P-2024-230
- 类型：CI 验证
- 位置：N/A
- 关键断言：Windows 构建成功，icon.ico 存在
- 运行方式：CI 验证

---

## R-2024-231 背单词网页 Vite base path 问题

- 关联问题：P-2024-231
- 类型：部署验证
- 位置：N/A
- 关键断言：Netlify 根目录部署时资源路径正确
- 运行方式：部署验证

---

## R-2024-232 Strong-Iterate script 标签缺少 type=module

- 关联问题：P-2024-232
- 类型：部署验证
- 位置：N/A
- 关键断言：Vite 打包后 JS 正常执行（有 type=module）
- 运行方式：部署验证

---

## R-2024-233 ClipBook CSS 颜色值为空时崩溃

- 关联问题：P-2024-233
- 类型：手工检查
- 位置：N/A
- 关键断言：CSS 颜色值为空时应用不崩溃
- 运行方式：手工验证

---

## R-2024-234 Strong-Iterate 刷新后样式重置

- 关联问题：P-2024-234
- 类型：部署验证
- 位置：N/A
- 关键断言：页面刷新后样式保持不变
- 运行方式：部署验证

---

## R-2024-235 tobooks CORS 预检请求问题

- 关联问题：P-2024-235
- 类型：部署验证
- 位置：N/A
- 关键断言：跨域请求正常工作，预检请求正确处理
- 运行方式：部署验证

---

## R-2024-236 tobooks CDN 加载 Turndown 库问题

- 关联问题：P-2024-236
- 类型：部署验证
- 位置：N/A
- 关键断言：本地 Turndown 库正常加载
- 运行方式：部署验证

---

## R-2024-237 tobooks 移动端双击手势兼容性

- 关联问题：P-2024-237
- 类型：手工检查
- 位置：N/A
- 关键断言：移动端双击触发翻译扩展，单击触发翻页
- 运行方式：手工验证

---

## R-2024-238 zhuyili 计时器继续/暂停时占位符闪烁

- 关联问题：P-2024-238
- 类型：手工检查
- 位置：N/A
- 关键断言：计时器继续/暂停时 UI 平滑无闪烁
- 运行方式：手工验证

---

## R-2024-239 insidebar-ai 语言切换需要重新加载

- 关联问题：P-2024-239
- 类型：手工检查
- 位置：N/A
- 关键断言：语言切换后立即生效，无需重新加载
- 运行方式：手工验证

---

## R-2024-240 kotadb Docker 构建 shared types 问题

- 关联问题：P-2024-240
- 类型：CI 验证
- 位置：N/A
- 关键断言：Docker 构建时 shared types 正确解析
- 运行方式：CI 验证

---

## R-2024-241 视频侧边栏 视频与侧边栏实时联动

- 关联问题：P-2024-241
- 类型：手工检查
- 位置：N/A
- 关键断言：视频与侧边栏实时同步联动
- 运行方式：手工验证

---

## R-2024-242 insidebar-ai Google AI Mode 重复检测

- 关联问题：P-2024-242
- 类型：手工检查
- 位置：N/A
- 关键断言：Google AI Mode 重复检测和消息提取正常
- 运行方式：手工验证

---

## R-2024-243 播客 数据持久化问题

- 关联问题：P-2024-243
- 类型：手工检查
- 位置：N/A
- 关键断言：数据正确持久化
- 运行方式：手工验证

---

## R-2024-244 Full-screen-prompt Perplexity Slate 编辑器插入

- 关联问题：P-2024-244
- 类型：手工检查
- 位置：N/A
- 关键断言：Perplexity Slate 编辑器中 Enter/点击插入可靠，无重复菜单
- 运行方式：手工验证

---

## R-2024-245 tobooks 笔记关联到整个高亮

- 关联问题：P-2024-245
- 类型：手工检查
- 位置：N/A
- 关键断言：选中已高亮文本的局部部分时，笔记关联到整个高亮
- 运行方式：手工验证

---

## R-2024-246 zhuyili 活动记录云端同步失败

- 关联问题：P-2024-246
- 类型：手工检查
- 位置：N/A
- 关键断言：活动记录云端同步正常
- 运行方式：手工验证

---

## R-2024-247 kotadb 域名错误

- 关联问题：P-2024-247
- 类型：手工检查
- 位置：N/A
- 关键断言：域名正确使用 kotadb.io
- 运行方式：手工验证

---

## R-2024-248 tobooks vercel.json 缺失 /upload-url 路由

- 关联问题：P-2024-248
- 类型：部署验证
- 位置：N/A
- 关键断言：/upload-url 路由正常访问
- 运行方式：部署验证

---

## R-2024-249 zhuyili Enter 键跳转问题

- 关联问题：P-2024-249
- 类型：手工检查
- 位置：N/A
- 关键断言：Enter 键正确跳转到计时页面
- 运行方式：手工验证

---

## R-2024-250 zhuyili Google 登录重定向问题

- 关联问题：P-2024-250
- 类型：手工检查
- 位置：N/A
- 关键断言：Google 登录后正确重定向
- 运行方式：手工验证

---

## R-2024-251 信息过滤器 App 导出 JSON 格式兼容

- 关联问题：P-2024-251
- 类型：手工检查
- 位置：N/A
- 关键断言：
  1. App 导出的纯数组 JSON 格式能正确导入
  2. 导入后数据完整显示
- 运行方式：手工验证

---

## R-2024-252 ClipBook 对话框透明度问题

- 关联问题：P-2024-252
- 类型：手工检查
- 位置：N/A
- 关键断言：对话框透明度显示正确
- 运行方式：手工验证

---

## R-2024-253 kexin-podcast DELETE 接口 ID 类型问题

- 关联问题：P-2024-253
- 类型：integration
- 位置：N/A
- 关键断言：
  1. DELETE /api/podcasts/:id 接受数字 ID
  2. API 幂等，不返回 404
- 运行方式：API 测试验证

---

## R-2024-254 播客 备份文件 Git 跟踪问题

- 关联问题：P-2024-254
- 类型：手工检查
- 位置：N/A
- 关键断言：备份文件不被 Git 跟踪，.gitignore 配置正确
- 运行方式：手工验证

---

## R-2024-255 ClipBook 搜索意外获取焦点

- 关联问题：P-2024-255
- 类型：手工检查
- 位置：N/A
- 关键断言：搜索框不会意外获取焦点，焦点管理正常
- 运行方式：手工验证

---

## R-2024-256 iterate 重复 applyFontVariables 函数

- 关联问题：P-2024-256
- 类型：CI 验证
- 位置：N/A
- 关键断言：代码中无重复的 applyFontVariables 函数，编译正常
- 运行方式：编译验证

---

## R-2024-257 zhuyili 微信支付购买按钮事件绑定

- 关联问题：P-2024-257
- 类型：手工检查
- 位置：N/A
- 关键断言：
  1. 购买按钮点击有响应
  2. 试用次数逻辑正常
- 运行方式：手工验证

---

## R-2024-258 久坐通知 Service Worker 缓存问题

- 关联问题：P-2024-258
- 类型：手工检查
- 位置：N/A
- 关键断言：
  1. 部署新版本应用
  2. 刷新页面后应获取最新版本
  3. 网络优先策略生效
- 运行方式：手工验证

---

## R-2024-259 RI 列表项编辑后保存问题

- 关联问题：P-2024-259
- 类型：手工检查
- 位置：N/A
- 关键断言：
  1. 编辑列表项内容
  2. 内容应正确保存（使用 updateWord）
  3. 刷新后编辑内容保留
- 运行方式：手工验证

---

## R-2024-260 insidebar-ai ES6 模块导入错误

- 关联问题：P-2024-260
- 类型：手工检查
- 位置：N/A
- 关键断言：
  1. 加载应用无模块导入错误
  2. 全局命名空间方式正常工作
- 运行方式：手工验证

---

## R-2024-261 ClipBook 辅助功能访问检查时粘贴为空

- 关联问题：P-2024-261
- 类型：手工检查
- 位置：N/A
- 关键断言：
  1. 检查辅助功能访问权限时
  2. 粘贴内容不为空
  3. 权限检查逻辑正常
- 运行方式：手工验证

---

## R-2024-262 zhuyili Supabase 客户端访问方式

- 关联问题：P-2024-262
- 类型：手工检查
- 位置：N/A
- 关键断言：
  1. Supabase 客户端正确初始化
  2. 数据访问正常
- 运行方式：手工验证

---

## R-2024-263 git-worktree-manager push/pull 未触发 git hook

- 关联问题：P-2024-263
- 类型：手工检查
- 位置：N/A
- 关键断言：
  1. 执行 push 操作时 git hook 被触发
  2. 执行 pull 操作时 git hook 被触发
- 运行方式：手工验证

---

## R-2024-264 RI 导入/清空后模式跳转问题

- 关联问题：P-2024-264
- 类型：手工检查
- 位置：N/A
- 关键断言：
  1. 导入数据后模式正确跳转
  2. 清空数据后模式正确跳转
  3. 状态更新后模式切换正常
- 运行方式：手工验证

---

## R-2024-265 RI 通知图标路径问题

- 关联问题：P-2024-265
- 类型：手工检查
- 位置：N/A
- 关键断言：通知图标正常显示，使用 RI.png 替代已删除的信息置换.png
- 运行方式：手工验证

---

## R-2024-266 ClipBook Actions 弹窗高度问题

- 关联问题：P-2024-266
- 类型：手工检查
- 位置：N/A
- 关键断言：Actions 弹窗高度正确显示
- 运行方式：手工验证

---

## R-2024-267 ClipBook 滚动问题

- 关联问题：P-2024-267
- 类型：手工检查
- 位置：N/A
- 关键断言：列表滚动正常，无卡顿或异常
- 运行方式：手工验证

---

## R-2024-268 tobooks text-to-epub 页面高度问题

- 关联问题：P-2024-268
- 类型：手工检查
- 位置：N/A
- 关键断言：text-to-epub.html 页面高度正确显示
- 运行方式：手工验证

---

## R-2024-269 zen-flow 页面跳动问题

- 关联问题：P-2024-269
- 类型：手工检查
- 位置：N/A
- 关键断言：调整 textarea 高度时页面不跳动，滚动位置保持稳定
- 运行方式：手工验证

---

## R-2024-270 视频侧边栏 视频与侧边栏自适应联动

- 关联问题：P-2024-270
- 类型：手工检查
- 位置：N/A
- 关键断言：视频与侧边栏实时自适应联动，尺寸变化时同步调整
- 运行方式：手工验证

---

## R-2024-004 窗口切换器点击第二行无法激活对应窗口

- 关联问题：P-2024-004
- 类型：手工检查
- 位置：N/A
- 关键断言：点击窗口切换器任意行时，正确激活对应窗口
- 运行方式：手工验证
- 状态：待验证（问题 open）

---

## R-2024-006 Acemcp 无法获取 Augment API 凭证

- 关联问题：P-2024-006
- 类型：网络验证
- 位置：N/A
- 关键断言：`auggie login` 成功完成 hCaptcha 验证并获取凭证
- 运行方式：手工验证
- 状态：待验证（问题 open）

---

## R-2024-271 ClipBook 深色/浅色模式滚动条

- 关联问题：P-2024-271
- 类型：手工检查
- 位置：N/A
- 关键断言：
  1. 深色模式下滚动条样式正确
  2. 浅色模式下滚动条样式正确
  3. 切换主题时滚动条样式跟随变化
- 运行方式：手工验证

---

## R-2024-272 zhuyili 统计图表颜色显示

- 关联问题：P-2024-272
- 类型：手工检查
- 位置：N/A
- 关键断言：
  1. 统计图表颜色显示正确
  2. combined.js 颜色算法与主应用同步
- 运行方式：手工验证

---

## R-2024-289 relax Netlify 构建错误

- 关联问题：P-2024-273
- 类型：部署验证
- 位置：N/A
- 关键断言：Netlify 构建成功，audioContext 依赖正确声明
- 运行方式：部署验证

---

## R-2024-290 relax ESLint 错误

- 关联问题：P-2024-274
- 类型：手工检查
- 位置：N/A
- 关键断言：ESLint 检查通过，无依赖数组警告
- 运行方式：`npm run lint`

---

## R-2024-291 relax 声音开关功能异常

- 关联问题：P-2024-275
- 类型：手工检查
- 位置：N/A
- 关键断言：声音开关功能正常，切换时音频响应正确
- 运行方式：手工验证

---

## R-2024-292 hack-airdrop Railway 端口配置错误

- 关联问题：P-2024-276
- 类型：部署验证
- 位置：N/A
- 关键断言：Railway 部署后应用可正常访问
- 运行方式：部署验证

---

## R-2024-293 hack-airdrop Railway 部署配置问题

- 关联问题：P-2024-277
- 类型：部署验证
- 位置：N/A
- 关键断言：Railway 部署成功
- 运行方式：部署验证

---

## R-2024-294 hack-airdrop Vercel 部署配置问题

- 关联问题：P-2024-278
- 类型：部署验证
- 位置：N/A
- 关键断言：Vercel 部署成功，Railway 支持正常
- 运行方式：部署验证

---

## R-2024-295 hack-airdrop Vercel 部署配置问题 (第二次)

- 关联问题：P-2024-279
- 类型：部署验证
- 位置：N/A
- 关键断言：Vercel 部署完全正常
- 运行方式：部署验证

---

## R-2024-296 program-lesson 中文引号语法错误

- 关联问题：P-2024-280
- 类型：手工检查
- 位置：N/A
- 关键断言：代码中无中文引号，语法正确
- 运行方式：代码审查

---

## R-2024-297 PixelTunePhoto 移动端响应式布局问题

- 关联问题：P-2024-281
- 类型：手工检查
- 位置：N/A
- 关键断言：移动端布局正确，workspace 和 sidebar 垂直堆叠
- 运行方式：移动端测试

---

## R-2024-298 memory-english YouTube 字幕获取失败

- 关联问题：P-2024-282
- 类型：手工检查
- 位置：N/A
- 关键断言：能正确获取 YouTube 字幕 WebVTT 格式
- 运行方式：手工验证

---

## R-2024-299 memory-english YouTube Transcript API 失效

- 关联问题：P-2024-283
- 类型：手工检查
- 位置：N/A
- 关键断言：YouTube timedtext API 正常获取字幕
- 运行方式：手工验证

---

## R-2024-300 memory-english Netlify 部署路径问题

- 关联问题：P-2024-284
- 类型：部署验证
- 位置：N/A
- 关键断言：Netlify 部署后资源路径正确，页面正常显示
- 运行方式：部署验证

---

## R-2024-301 me-h (DDK) HTML 语法错误

- 关联问题：P-2024-285
- 类型：手工检查
- 位置：N/A
- 关键断言：HTML 语法正确，章节内容正常显示
- 运行方式：手工验证

---

## R-2024-302 me-h (DDK) 18 岁生日礼物 HTML 错误

- 关联问题：P-2024-286
- 类型：手工检查
- 位置：N/A
- 关键断言：18 岁生日礼物页面正常显示
- 运行方式：手工验证

---

## R-2024-303 me-h (DDK) Netlify 部署 PNG/JPEG 扩展名问题

- 关联问题：P-2024-287
- 类型：部署验证
- 位置：N/A
- 关键断言：Netlify 部署后 PNG/JPEG 图片正常显示
- 运行方式：部署验证

---

## R-2024-304 me-h (DDK) 图片引用路径错误

- 关联问题：P-2024-288
- 类型：手工检查
- 位置：N/A
- 关键断言：图片使用 import 引用，打包后正常显示
- 运行方式：手工验证

---

## R-2024-321 me-h (DDK) JS 文件 404 问题

- 关联问题：P-2024-289
- 类型：部署验证
- 位置：N/A
- 关键断言：JS 文件正常加载，无 404 错误
- 运行方式：部署验证

---

## R-2024-322 me-h (DDK) Vite 打包 script 问题

- 关联问题：P-2024-290
- 类型：部署验证
- 位置：N/A
- 关键断言：Vite 打包后脚本正常执行
- 运行方式：部署验证

---

## R-2024-323 me-h (DDK) Netlify 部署白屏

- 关联问题：P-2024-291
- 类型：部署验证
- 位置：N/A
- 关键断言：Netlify 部署后页面正常显示，无白屏
- 运行方式：部署验证

---

## R-2024-324 me-h (DDK) 跑步愿望图片路径错误

- 关联问题：P-2024-292
- 类型：手工检查
- 位置：N/A
- 关键断言：跑步愿望图片正常显示
- 运行方式：手工验证

---

## R-2024-325 me-h (DDK) 文字重叠问题

- 关联问题：P-2024-293
- 类型：手工检查
- 位置：N/A
- 关键断言：页面文字无重叠，布局正常
- 运行方式：手工验证

---

## R-2024-326 Note-taking-tool 标题被 CSS 污染

- 关联问题：P-2024-294
- 类型：手工检查
- 位置：N/A
- 关键断言：提取标题时跳过 style/script 标签，标题干净无 CSS 污染
- 运行方式：手工验证

---

## R-2024-273 flow-learning 下载书籍文件名问题

- 关联问题：P-2024-273
- 类型：手工检查
- 位置：N/A
- 关键断言：下载书籍时文件名为原始文件名
- 运行方式：手工验证

---

## R-2024-274 flow-learning 批量上传同步 Supabase

- 关联问题：P-2024-274
- 类型：手工检查
- 位置：N/A
- 关键断言：批量上传书籍时同步到 Supabase，fileUrl 正确保存
- 运行方式：手工验证

---

## R-2024-275 flow-learning Supabase InvalidKey 错误

- 关联问题：P-2024-275
- 类型：手工检查
- 位置：N/A
- 关键断言：上传含特殊字符文件名的文件时无 InvalidKey 错误
- 运行方式：手工验证

---

## R-2024-276 flow-learning 书籍点击使用云端链接

- 关联问题：P-2024-276
- 类型：手工检查
- 位置：N/A
- 关键断言：点击书籍时优先使用云端 fileUrl 链接
- 运行方式：手工验证

---

## R-2024-277 flow-learning 导入 App JSON 格式

- 关联问题：P-2024-277
- 类型：手工检查
- 位置：N/A
- 关键断言：能正确导入 App 导出的纯数组 JSON 格式文件
- 运行方式：手工验证

---

## R-2024-278 flow-learning 导入按钮可见

- 关联问题：P-2024-278
- 类型：手工检查
- 位置：N/A
- 关键断言：导入按钮正常显示可见
- 运行方式：手工验证

---

## R-2024-279 Full-screen-prompt 多桌面窗口跳回

- 关联问题：P-2024-279
- 类型：手工检查
- 位置：N/A
- 关键断言：在多桌面/全屏 Space 环境下窗口不跳回固定桌面
- 运行方式：手工验证

---

## R-2024-280 Full-screen-prompt 点击复制提示词

- 关联问题：P-2024-280
- 类型：手工检查
- 位置：N/A
- 关键断言：点击提示词能正确复制到剪切板
- 运行方式：手工验证

---

## R-2024-281 Full-screen-prompt Perplexity 编辑器插入

- 关联问题：P-2024-281
- 类型：手工检查
- 位置：N/A
- 关键断言：在 Perplexity Slate 编辑器中插入提示词可靠工作
- 运行方式：手工验证

---

## R-2024-282 if-compond 授权弹窗邮箱预填充

- 关联问题：P-2024-282
- 类型：手工检查
- 位置：N/A
- 关键断言：打开授权弹窗时邮箱自动预填充
- 运行方式：手工验证

---

## R-2024-283 if-compond 缓存数量检查

- 关联问题：P-2024-283
- 类型：手工检查
- 位置：N/A
- 关键断言：只有缓存数量足够时才使用缓存
- 运行方式：手工验证

---

## R-2024-284 if-compond 在线密钥验证

- 关联问题：P-2024-284
- 类型：手工检查
- 位置：N/A
- 关键断言：启用在线密钥验证，伪造密钥无法通过
- 运行方式：手工验证

---

## R-2024-285 if-compond 生产环境 User-Agent

- 关联问题：P-2024-285
- 类型：手工检查
- 位置：N/A
- 关键断言：生产环境请求包含 User-Agent header，不被拒绝
- 运行方式：手工验证

---

## R-2024-286 if-compond fetch 策略

- 关联问题：P-2024-286
- 类型：手工检查
- 位置：N/A
- 关键断言：生产环境使用直接 fetch，本地开发使用代理，两者均正常工作
- 运行方式：手工验证

---

## R-2024-319 me-h (DDK) Netlify 部署白屏及多项问题

- 关联问题：P-2024-273
- 类型：部署验证
- 位置：N/A
- 关键断言：
  1. Netlify 部署后页面正常显示（非白屏）
  2. JS 文件加载成功（无 404）
  3. 图片正常显示
  4. HTML 章节内容完整渲染
- 运行方式：部署验证

---

## R-2024-320 PixelTunePhoto 移动端响应式布局问题

- 关联问题：P-2024-274
- 类型：手工检查
- 位置：N/A
- 关键断言：
  1. 移动端访问时 workspace 和 sidebar 垂直堆叠
  2. 布局不拥挤，可正常操作
- 运行方式：手工验证（使用浏览器开发者工具模拟移动端）

---

## R-2024-305 crawl-Twitter 代理端口和账户锁定问题

- 关联问题：P-2024-275
- 类型：手工检查
- 位置：N/A
- 关键断言：
  1. 代理端口配置正确
  2. 账户登录后不被锁定
  3. 请求频率在合理范围内
- 运行方式：手工验证

---

## R-2024-306 flow-learning EPUB 封面提取失败

- 关联问题：P-2024-276
- 类型：手工检查
- 位置：N/A
- 关键断言：
  1. 导入多种格式的 EPUB 书籍
  2. 封面正确显示
  3. 覆盖 meta cover-image、manifest、文件名匹配三种提取方式
- 运行方式：手工验证

---

## R-2024-307 flow-learning localStorage 超限

- 关联问题：P-2024-277
- 类型：手工检查
- 位置：N/A
- 关键断言：
  1. 导入大量带封面的书籍
  2. 封面被压缩存储
  3. localStorage 不超限报错
- 运行方式：手工验证

---

## R-2024-308 flow-learning 下载书籍文件名问题

- 关联问题：P-2024-278
- 类型：手工检查
- 位置：N/A
- 关键断言：下载书籍时使用原始文件名
- 运行方式：手工验证

---

## R-2024-309 flow-learning 批量上传未同步到 Supabase

- 关联问题：P-2024-279
- 类型：手工检查
- 位置：N/A
- 关键断言：
  1. 批量上传书籍
  2. 数据同步到 Supabase
  3. fileUrl 正确保存
- 运行方式：手工验证

---

## R-2024-310 flow-learning Supabase InvalidKey 错误

- 关联问题：P-2024-280
- 类型：手工检查
- 位置：N/A
- 关键断言：上传包含特殊字符文件名的文件时无 InvalidKey 错误
- 运行方式：手工验证

---

## R-2024-311 flow-learning Supabase anon key 过期

- 关联问题：P-2024-281
- 类型：手工检查
- 位置：N/A
- 关键断言：Supabase 连接正常，anon key 有效
- 运行方式：手工验证

---

## R-2024-312 flow-learning 书籍点击链接问题

- 关联问题：P-2024-282
- 类型：手工检查
- 位置：N/A
- 关键断言：
  1. 点击书籍时使用云端链接
  2. 拖拽状态基于 fileUrl 正确判断
- 运行方式：手工验证

---

## R-2024-313 flow-learning 导入 JSON 格式兼容问题

- 关联问题：P-2024-283
- 类型：手工检查
- 位置：N/A
- 关键断言：能成功导入 App 导出的纯数组 JSON 格式数据
- 运行方式：手工验证

---

## R-2024-314 flow-learning 行内编辑和全屏窗口跳动

- 关联问题：P-2024-284
- 类型：手工检查
- 位置：N/A
- 关键断言：
  1. 行内编辑功能正常
  2. 全屏应用前窗口不跳动
- 运行方式：手工验证

---

## R-2024-315 flow-learning 导入按钮不显示

- 关联问题：P-2024-285
- 类型：手工检查
- 位置：N/A
- 关键断言：导入按钮可见且可点击
- 运行方式：手工验证

---

## R-2024-316 flow-learning Web Dashboard JS 错误

- 关联问题：P-2024-286
- 类型：手工检查
- 位置：N/A
- 关键断言：Web Dashboard 无 JS 错误，功能正常
- 运行方式：手工验证

---

## R-2024-317 Full-screen-prompt 全屏应用前窗口跳动

- 关联问题：P-2024-287
- 类型：手工检查
- 位置：N/A
- 关键断言：
  1. 打开 Full-screen-prompt 应用
  2. 在全屏应用（如视频播放器）前使用
  3. 窗口不应跳动
- 运行方式：手工验证

---

## R-2024-318 Book (epub.js) Node.js 版本兼容性和构建问题

- 关联问题：P-2024-288
- 类型：部署验证
- 位置：N/A
- 关键断言：
  1. 使用 Node.js 18.x 构建成功
  2. 无 OpenSSL 或 crypto 相关错误
  3. 部署后应用正常运行
- 运行方式：部署验证

---

## R-2024-327 Note-taking-tool 标题被CSS污染

- 关联问题：P-2024-327
- 类型：手工检查
- 位置：N/A
- 关键断言：提取标题时不包含CSS样式文本
- 运行方式：手工验证

---

## R-2024-328 Note-taking-tool 沉浸式翻译插件导致按钮重叠

- 关联问题：P-2024-328
- 类型：手工检查
- 位置：N/A
- 关键断言：安装沉浸式翻译插件后按钮不重叠
- 运行方式：手工验证

---

## R-2024-329 Note-taking-tool 按钮大小不一致

- 关联问题：P-2024-329
- 类型：手工检查
- 位置：N/A
- 关键断言：所有按钮大小一致
- 运行方式：手工验证

---

## R-2024-330 PixelTunePhoto 移动端响应式布局问题

- 关联问题：P-2024-330
- 类型：手工检查
- 位置：N/A
- 关键断言：移动端工作区和侧边栏垂直堆叠显示正常
- 运行方式：手工验证

---

## R-2024-331 program-lesson 中文引号语法错误

- 关联问题：P-2024-331
- 类型：手工检查
- 位置：N/A
- 关键断言：代码中无中文引号
- 运行方式：手工验证

---

## R-2024-332 relax Netlify构建错误

- 关联问题：P-2024-332
- 类型：部署验证
- 位置：N/A
- 关键断言：Netlify 构建成功，无 React hooks 依赖警告
- 运行方式：部署验证

---

## R-2024-333 relax ESLint错误

- 关联问题：P-2024-333
- 类型：手工检查
- 位置：N/A
- 关键断言：ESLint 检查通过，无缺少依赖警告
- 运行方式：手工验证

---

## R-2024-334 relax 声音开关功能异常

- 关联问题：P-2024-334
- 类型：手工检查
- 位置：N/A
- 关键断言：声音开关功能正常工作
- 运行方式：手工验证

---

## R-2024-335 RI 笔记功能多个关键问题

- 关联问题：P-2024-335
- 类型：手工检查
- 位置：N/A
- 关键断言：笔记功能正常工作
- 运行方式：手工验证

---

## R-2024-336 RI 列表项编辑后保存问题

- 关联问题：P-2024-336
- 类型：手工检查
- 位置：N/A
- 关键断言：列表项编辑后正确保存
- 运行方式：手工验证

---

## R-2024-337 RI 笔记导出按钮保存后主页未刷新

- 关联问题：P-2024-337
- 类型：手工检查
- 位置：N/A
- 关键断言：笔记导出保存后主页自动刷新
- 运行方式：手工验证

---

## R-2024-338 RI 笔记窗口置顶按钮状态不同步

- 关联问题：P-2024-338
- 类型：手工检查
- 位置：N/A
- 关键断言：置顶按钮状态与实际状态同步
- 运行方式：手工验证

---

## R-2024-339 RI 打包后应用 currentModeId 未迁移

- 关联问题：P-2024-339
- 类型：手工检查
- 位置：N/A
- 关键断言：打包后应用自动迁移 currentModeId
- 运行方式：手工验证

---

## R-2024-340 RI 笔记窗口关闭后无法再次打开

- 关联问题：P-2024-340
- 类型：手工检查
- 位置：N/A
- 关键断言：笔记窗口可重复打开关闭
- 运行方式：手工验证

---

## R-2024-341 RI 导入/清空后模式跳转问题

- 关联问题：P-2024-341
- 类型：手工检查
- 位置：N/A
- 关键断言：导入/清空后模式跳转正常
- 运行方式：手工验证

---

## R-2024-342 RI 访问已销毁的窗口对象

- 关联问题：P-2024-342
- 类型：手工检查
- 位置：N/A
- 关键断言：不会访问已销毁的窗口对象
- 运行方式：手工验证

---

## R-2024-343 RI 列表排序问题

- 关联问题：P-2024-343
- 类型：手工检查
- 位置：N/A
- 关键断言：最新保存的内容显示在列表顶部
- 运行方式：手工验证

---

## R-2024-344 RI note-window.js 笔记保存功能问题

- 关联问题：P-2024-344
- 类型：手工检查
- 位置：N/A
- 关键断言：note-window.js 笔记保存功能正常
- 运行方式：手工验证

---

## R-2024-345 RI 全面保存功能问题

- 关联问题：P-2024-345
- 类型：手工检查
- 位置：N/A
- 关键断言：所有保存功能正常工作
- 运行方式：手工验证

---

## R-2024-346 RI 快速保存功能问题

- 关联问题：P-2024-346
- 类型：手工检查
- 位置：N/A
- 关键断言：快速保存功能正常
- 运行方式：手工验证

---

## R-2024-347 RI IndexedDB 集成问题

- 关联问题：P-2024-347
- 类型：手工检查
- 位置：N/A
- 关键断言：IndexedDB 集成正常工作
- 运行方式：手工验证

---

## R-2024-348 RI IndexedDB 数据加载问题

- 关联问题：P-2024-348
- 类型：手工检查
- 位置：N/A
- 关键断言：IndexedDB 数据正常加载
- 运行方式：手工验证

---

## R-2024-349 RI deleteMode 函数重复声明

- 关联问题：P-2024-349
- 类型：手工检查
- 位置：N/A
- 关键断言：deleteMode 函数无重复声明
- 运行方式：手工验证

---

## R-2024-350 RI 笔记格式修改丢失

- 关联问题：P-2024-350
- 类型：手工检查
- 位置：N/A
- 关键断言：笔记格式修改正确保存
- 运行方式：手工验证

---

## R-2024-351 RI 笔记窗口关闭按钮不起作用

- 关联问题：P-2024-351
- 类型：手工检查
- 位置：N/A
- 关键断言：关闭按钮正常工作
- 运行方式：手工验证

---

## R-2024-352 RI 打包配置 electron-store 模块找不到

- 关联问题：P-2024-352
- 类型：手工检查
- 位置：N/A
- 关键断言：打包后 electron-store 模块正常加载
- 运行方式：手工验证

---

## R-2024-353 RI 通知图标路径错误

- 关联问题：P-2024-353
- 类型：手工检查
- 位置：N/A
- 关键断言：通知图标正常显示
- 运行方式：手工验证

---

## R-2024-400 iterate pnpm版本兼容性

- 关联问题：P-2024-310
- 类型：手工检查
- 位置：N/A
- 关键断言：pnpm install 正常完成，无版本冲突
- 运行方式：手工验证

---

## R-2024-401 iterate GitHub Actions CI

- 关联问题：P-2024-311
- 类型：手工检查
- 位置：N/A
- 关键断言：GitHub Actions 工作流正常触发并通过
- 运行方式：手工验证

---

## R-2024-402 iterate 发布脚本分支切换

- 关联问题：P-2024-312
- 类型：手工检查
- 位置：N/A
- 关键断言：发布脚本执行时分支切换正常，不受 Cargo.lock 影响
- 运行方式：手工验证

---

## R-2024-403 iterate 发布脚本分支合并

- 关联问题：P-2024-313
- 类型：手工检查
- 位置：N/A
- 关键断言：发布流程正确执行分支合并逻辑
- 运行方式：手工验证

---

## R-2024-404 iterate 取消发布退出

- 关联问题：P-2024-314
- 类型：手工检查
- 位置：N/A
- 关键断言：取消发布时脚本正确退出，不产生副作用
- 运行方式：手工验证

---

## R-2024-405 iterate 版本选择输出

- 关联问题：P-2024-315
- 类型：手工检查
- 位置：N/A
- 关键断言：版本选择函数输出正确重定向
- 运行方式：手工验证

---

## R-2024-406 iterate 发布脚本菜单

- 关联问题：P-2024-316
- 类型：手工检查
- 位置：N/A
- 关键断言：发布脚本菜单正常显示
- 运行方式：手工验证

---

## R-2024-407 iterate 错误信息输出

- 关联问题：P-2024-317
- 类型：手工检查
- 位置：N/A
- 关键断言：错误信息简洁明了，无冗余日志
- 运行方式：手工验证

---

## R-2024-354 if-compond 授权弹窗邮箱预填充

- 关联问题：P-2024-354
- 类型：手工检查
- 位置：N/A
- 关键断言：打开授权弹窗时邮箱自动预填充
- 运行方式：手工验证

---

## R-2024-355 if-compond 缓存数量检查

- 关联问题：P-2024-355
- 类型：手工检查
- 位置：N/A
- 关键断言：缓存数量不足时不使用缓存，改用实时请求
- 运行方式：手工验证

---

## R-2024-356 if-compond 置顶博主排序

- 关联问题：P-2024-356
- 类型：手工检查
- 位置：N/A
- 关键断言：置顶博主优先显示，Twitter抓取50条，回复转推限10条
- 运行方式：手工验证

---

## R-2024-357 if-compond Supabase URL配置

- 关联问题：P-2024-357
- 类型：手工检查
- 位置：N/A
- 关键断言：Supabase 连接正常，URL配置正确
- 运行方式：手工验证

---

## R-2024-358 if-compond 密钥在线验证

- 关联问题：P-2024-358
- 类型：手工检查
- 位置：N/A
- 关键断言：密钥必须通过在线验证，伪造密钥无法使用
- 运行方式：手工验证

---

## R-2024-359 if-compond 生产环境User-Agent

- 关联问题：P-2024-359
- 类型：手工检查
- 位置：N/A
- 关键断言：生产环境HTTP请求包含User-Agent header
- 运行方式：手工验证

---

## R-2024-360 if-compond 本地开发缓存跳过

- 关联问题：P-2024-360
- 类型：手工检查
- 位置：N/A
- 关键断言：本地开发环境不使用Netlify Blobs缓存
- 运行方式：手工验证

---

## R-2024-361 if-compond 生产环境请求方式

- 关联问题：P-2024-361
- 类型：手工检查
- 位置：N/A
- 关键断言：生产环境使用直接fetch，本地开发使用proxy
- 运行方式：手工验证

---

## R-2024-457 iterate 移动窗口中文输入候选栏

- 关联问题：P-2024-354
- 类型：手工检查
- 位置：N/A
- 关键断言：移动窗口时中文输入法候选栏位置正确
- 运行方式：手工验证

---

## R-2024-458 iterate 首次启动主题

- 关联问题：P-2024-355
- 类型：手工检查
- 位置：N/A
- 关键断言：首次启动缺少 config.json 时主题正常显示
- 运行方式：手工验证

---

## R-2024-459 iterate 多开配置同步

- 关联问题：P-2024-356
- 类型：手工检查
- 位置：N/A
- 关键断言：多开应用时配置正确同步
- 运行方式：手工验证

---

## R-2024-460 iterate 增强快捷键默认值

- 关联问题：P-2024-357
- 类型：手工检查
- 位置：N/A
- 关键断言：增强快捷键默认值正确
- 运行方式：手工验证

---

## R-2024-461 iterate 状态同步白屏

- 关联问题：P-2024-358
- 类型：手工检查
- 位置：N/A
- 关键断言：状态同步时不出现白屏
- 运行方式：手工验证

---

## R-2024-449 iterate proc-macro 编译

- 关联问题：P-2024-359
- 类型：手工检查
- 位置：N/A
- 关键断言：proc-macro 编译成功
- 运行方式：cargo build

---

## R-2024-450 iterate applyFontVariables 函数

- 关联问题：P-2024-360
- 类型：手工检查
- 位置：N/A
- 关键断言：applyFontVariables 函数无重复声明
- 运行方式：代码检查

---

## R-2024-451 zhuyili 活动记录秒级时长

- 关联问题：P-2024-361
- 类型：手工检查
- 位置：N/A
- 关键断言：活动记录显示秒级时长
- 运行方式：手工验证

---

## R-2024-362 zhuyili 计时器时间归零

- 关联问题：P-2024-362
- 类型：手工检查
- 位置：N/A
- 关键断言：计时器时间不会意外归零
- 运行方式：手工验证

---

## R-2024-363 zhuyili 活动记录实时刷新

- 关联问题：P-2024-363
- 类型：手工检查
- 位置：N/A
- 关键断言：活动记录实时刷新
- 运行方式：手工验证

---

## R-2024-364 zhuyili Supabase 客户端

- 关联问题：P-2024-364
- 类型：手工检查
- 位置：N/A
- 关键断言：Supabase 客户端正常访问
- 运行方式：手工验证

---

## R-2024-365 zhuyili 微信支付

- 关联问题：P-2024-365
- 类型：手工检查
- 位置：N/A
- 关键断言：购买按钮点击有效，试用次数逻辑正确
- 运行方式：手工验证

---

## R-2024-366 zhuyili 二维码显示

- 关联问题：P-2024-366
- 类型：手工检查
- 位置：N/A
- 关键断言：二维码正常显示
- 运行方式：手工验证

---

## R-2024-367 zhuyili payment.js 函数

- 关联问题：P-2024-367
- 类型：手工检查
- 位置：N/A
- 关键断言：支付功能正常工作
- 运行方式：手工验证

---

## R-2024-368 zhuyili Google 登录回调

- 关联问题：P-2024-368
- 类型：手工检查
- 位置：N/A
- 关键断言：Google 登录回调成功
- 运行方式：手工验证

---

## R-2024-369 zhuyili OAuth 回调域名

- 关联问题：P-2024-369
- 类型：手工检查
- 位置：N/A
- 关键断言：生产环境 OAuth 回调不跳回本地
- 运行方式：手工验证

---

## R-2024-370 zhuyili OAuth 重定向

- 关联问题：P-2024-370
- 类型：手工检查
- 位置：N/A
- 关键断言：OAuth 重定向不导致 Netlify 404
- 运行方式：手工验证

---

## R-2024-371 zhuyili 计时器占位符闪烁

- 关联问题：P-2024-371
- 类型：手工检查
- 位置：N/A
- 关键断言：计时器继续/暂停时占位符不闪烁
- 运行方式：手工验证

---

## R-2024-372 zhuyili 重复记录

- 关联问题：P-2024-372
- 类型：手工检查
- 位置：N/A
- 关键断言：不产生重复记录
- 运行方式：手工验证

---

## R-2024-373 zhuyili 计时器暂停时间

- 关联问题：P-2024-373
- 类型：手工检查
- 位置：N/A
- 关键断言：计时器暂停时间计算正确
- 运行方式：手工验证

---

## R-2024-374 zhuyili 多计时器删除

- 关联问题：P-2024-374
- 类型：手工检查
- 位置：N/A
- 关键断言：多计时器删除功能正常
- 运行方式：手工验证

---

## R-2024-375 zhuyili JSON 导入日期

- 关联问题：P-2024-375
- 类型：手工检查
- 位置：N/A
- 关键断言：JSON 导入时日期格式正确
- 运行方式：手工验证

---

## R-2024-376 zhuyili JSON 导入同步

- 关联问题：P-2024-376
- 类型：手工检查
- 位置：N/A
- 关键断言：JSON 导入后数据正确同步
- 运行方式：手工验证

---

## R-2024-377 zhuyili 用户数据隔离

- 关联问题：P-2024-377
- 类型：手工检查
- 位置：N/A
- 关键断言：用户数据正确隔离，JSON 导入正确同步
- 运行方式：手工验证

---

## R-2024-378 zhuyili Google 登录重定向

- 关联问题：P-2024-378
- 类型：手工检查
- 位置：N/A
- 关键断言：Google 登录重定向正确
- 运行方式：手工验证

---

## R-2024-379 AI- AI Studio URL

- 关联问题：P-2024-379
- 类型：手工检查
- 位置：N/A
- 关键断言：AI Studio URL 路径正确为 /apps
- 运行方式：手工验证

---

## R-2024-380 AI-Sidebar History 同步

- 关联问题：P-2024-380
- 类型：手工检查
- 位置：N/A
- 关键断言：History 同步正常工作
- 运行方式：手工验证

---

## R-2024-381 AI-Sidebar Star 按钮状态

- 关联问题：P-2024-381
- 类型：手工检查
- 位置：N/A
- 关键断言：Star 按钮状态与收藏状态一致
- 运行方式：手工验证

---

## R-2024-382 AI-Sidebar message 监听器

- 关联问题：P-2024-382
- 类型：手工检查
- 位置：N/A
- 关键断言：message 监听器无语法错误
- 运行方式：代码检查

---

## R-2024-383 AI-Sidebar Starred 按钮图标

- 关联问题：P-2024-383
- 类型：手工检查
- 位置：N/A
- 关键断言：Starred 按钮显示星号而非对号
- 运行方式：手工验证

---

## R-2024-384 AI-Sidebar History Remove

- 关联问题：P-2024-384
- 类型：手工检查
- 位置：N/A
- 关键断言：History 面板 Remove 点击正常工作
- 运行方式：手工验证

---

## R-2024-385 AI-Sidebar URL 含特殊字符

- 关联问题：P-2024-385
- 类型：手工检查
- 位置：N/A
- 关键断言：URL 含 & 时 Remove 正常工作
- 运行方式：手工验证

---

## R-2024-386 AI-Sidebar 嵌套框架 URL

- 关联问题：P-2024-386
- 类型：手工检查
- 位置：N/A
- 关键断言：ChatGPT/Gemini 嵌套框架 URL 正确同步
- 运行方式：手工验证

---

## R-2024-387 if-compond 授权弹窗邮箱

- 关联问题：P-2024-387
- 类型：手工检查
- 位置：N/A
- 关键断言：授权弹窗打开时邮箱自动预填充
- 运行方式：手工验证

---

## R-2024-388 if-compond 缓存数量检查

- 关联问题：P-2024-388
- 类型：手工检查
- 位置：N/A
- 关键断言：缓存数量不足时不使用缓存
- 运行方式：手工验证

---

## R-2024-389 if-compond 置顶博主排序

- 关联问题：P-2024-389
- 类型：手工检查
- 位置：N/A
- 关键断言：置顶博主优先显示
- 运行方式：手工验证

---

## R-2024-390 if-compond Supabase URL

- 关联问题：P-2024-390
- 类型：手工检查
- 位置：N/A
- 关键断言：Supabase 连接成功
- 运行方式：手工验证

---

## R-2024-391 if-compond 密钥验证

- 关联问题：P-2024-391
- 类型：手工检查
- 位置：N/A
- 关键断言：伪造密钥无法使用
- 运行方式：手工验证

---

## R-2024-392 if-compond User-Agent

- 关联问题：P-2024-392
- 类型：手工检查
- 位置：N/A
- 关键断言：生产环境请求正常
- 运行方式：手工验证

---

## R-2024-393 if-compond 本地开发缓存

- 关联问题：P-2024-393
- 类型：手工检查
- 位置：N/A
- 关键断言：本地开发不使用 Netlify Blobs 缓存
- 运行方式：手工验证

---

## R-2024-394 if-compond 生产环境代理

- 关联问题：P-2024-394
- 类型：手工检查
- 位置：N/A
- 关键断言：生产环境直接 fetch，本地使用代理
- 运行方式：手工验证

---

## R-2024-395 flow-learning EPUB 封面

- 关联问题：P-2024-395
- 类型：手工检查
- 位置：N/A
- 关键断言：EPUB 封面正确提取
- 运行方式：手工验证

---

## R-2024-396 flow-learning localStorage

- 关联问题：P-2024-396
- 类型：手工检查
- 位置：N/A
- 关键断言：封面图片不导致 localStorage 超限
- 运行方式：手工验证

---

## R-2024-397 flow-learning 下载文件名

- 关联问题：P-2024-397
- 类型：手工检查
- 位置：N/A
- 关键断言：下载书籍使用原始文件名
- 运行方式：手工验证

---

## R-2024-398 flow-learning 批量上传

- 关联问题：P-2024-398
- 类型：手工检查
- 位置：N/A
- 关键断言：批量上传同步到 Supabase
- 运行方式：手工验证

---

## R-2024-399 flow-learning Supabase 文件名

- 关联问题：P-2024-399
- 类型：手工检查
- 位置：N/A
- 关键断言：Supabase 不报 InvalidKey 错误
- 运行方式：手工验证

---

## R-2024-408 cunzhi-knowledge 验收流程子代理 commit

- 关联问题：P-2024-318
- 类型：手工检查
- 位置：N/A
- 关键断言：验收流程中子代理不单独 commit
- 运行方式：手工验证

---

## R-2024-409 cunzhi-knowledge 提示词格式

- 关联问题：P-2024-319
- 类型：手工检查
- 位置：N/A
- 关键断言：提示词格式正确，"你是子代理现在帮我做"在最后
- 运行方式：手工验证

---

## R-2024-410 iterate 移动窗口中文输入候选栏

- 关联问题：P-2024-320
- 类型：手工检查
- 位置：N/A
- 关键断言：移动窗口时中文输入法候选栏位置正确
- 运行方式：手工验证

---

## R-2024-411 iterate 首次启动主题

- 关联问题：P-2024-321
- 类型：手工检查
- 位置：N/A
- 关键断言：首次启动缺少 config.json 时主题正常显示
- 运行方式：手工验证

---

## R-2024-412 iterate 多开配置同步

- 关联问题：P-2024-322
- 类型：手工检查
- 位置：N/A
- 关键断言：多开应用时配置正确同步
- 运行方式：手工验证

---

## R-2024-413 zhuyili 活动记录秒级时长

- 关联问题：P-2024-323
- 类型：手工检查
- 位置：N/A
- 关键断言：活动记录显示秒级时长
- 运行方式：手工验证

---

## R-2024-414 zhuyili 计时器时间归零

- 关联问题：P-2024-324
- 类型：手工检查
- 位置：N/A
- 关键断言：计时器同步后时间不归零
- 运行方式：手工验证

---

## R-2024-415 zhuyili 实时活动刷新

- 关联问题：P-2024-325
- 类型：手工检查
- 位置：N/A
- 关键断言：活动记录实时刷新
- 运行方式：手工验证

---

## R-2024-416 zhuyili Supabase 客户端访问

- 关联问题：P-2024-326
- 类型：手工检查
- 位置：N/A
- 关键断言：白名单检查可访问 Supabase
- 运行方式：手工验证

---

## R-2024-417 zhuyili 微信支付购买按钮

- 关联问题：P-2024-327
- 类型：手工检查
- 位置：N/A
- 关键断言：购买按钮点击事件正确绑定
- 运行方式：手工验证

---

## R-2024-418 zhuyili 二维码显示

- 关联问题：P-2024-328
- 类型：手工检查
- 位置：N/A
- 关键断言：点击购买按钮后二维码正常显示
- 运行方式：手工验证

---

## R-2024-419 zhuyili payment.js 函数

- 关联问题：P-2024-329
- 类型：手工检查
- 位置：N/A
- 关键断言：支付功能正常工作，无 ReferenceError
- 运行方式：手工验证

---

## R-2024-420 zhuyili Google 登录回调

- 关联问题：P-2024-330
- 类型：手工检查
- 位置：N/A
- 关键断言：登录后正确重定向到 Netlify 域名
- 运行方式：手工验证

---

## R-2024-421 zhuyili 生产环境 OAuth 回调

- 关联问题：P-2024-331
- 类型：手工检查
- 位置：N/A
- 关键断言：生产环境 OAuth 回调不跳回本地
- 运行方式：手工验证

---

## R-2024-422 zhuyili OAuth 重定向适配

- 关联问题：P-2024-332
- 类型：手工检查
- 位置：N/A
- 关键断言：OAuth 重定向 URL 自动适配当前域
- 运行方式：手工验证

---

## R-2024-423 zhuyili 端口冲突

- 关联问题：P-2024-333
- 类型：手工检查
- 位置：N/A
- 关键断言：服务器端口 8888 正常启动
- 运行方式：手工验证

---

## R-2024-424 AI- AI Studio URL

- 关联问题：P-2024-334
- 类型：手工检查
- 位置：N/A
- 关键断言：AI Studio URL 路径正确为 /apps
- 运行方式：手工验证

---

## R-2024-425 AI- 图标路径

- 关联问题：P-2024-335
- 类型：手工检查
- 位置：N/A
- 关键断言：图标正常显示
- 运行方式：手工验证

---

## R-2024-426 AI-Sidebar message 监听器

- 关联问题：P-2024-336
- 类型：手工检查
- 位置：N/A
- 关键断言：message 监听器无 await 语法错误
- 运行方式：手工验证

---

## R-2024-427 AI-Sidebar Starred 按钮

- 关联问题：P-2024-337
- 类型：手工检查
- 位置：N/A
- 关键断言：Starred 按钮显示星号而非对号
- 运行方式：手工验证

---

## R-2024-428 AI-Sidebar History Remove

- 关联问题：P-2024-338
- 类型：手工检查
- 位置：N/A
- 关键断言：History 中 Remove 按钮点击有效
- 运行方式：手工验证

---

## R-2024-429 AI-Sidebar URL & 符号

- 关联问题：P-2024-339
- 类型：手工检查
- 位置：N/A
- 关键断言：URL 包含 & 符号时 Remove 功能正常
- 运行方式：手工验证

---

## R-2024-430 AI-Sidebar 嵌套框架 URL 同步

- 关联问题：P-2024-340
- 类型：手工检查
- 位置：N/A
- 关键断言：ChatGPT/Gemini 嵌套框架 URL 正确同步
- 运行方式：手工验证

---

## R-2024-431 program-lesson 中文引号

- 关联问题：P-2024-341
- 类型：手工检查
- 位置：N/A
- 关键断言：代码中无中文引号
- 运行方式：手工验证

---

## R-2024-432 if-compond 授权弹窗邮箱预填充

- 关联问题：P-2024-342
- 类型：手工检查
- 位置：N/A
- 关键断言：授权弹窗打开时邮箱自动预填充
- 运行方式：手工验证

---

## R-2024-433 if-compond 缓存数量检查

- 关联问题：P-2024-343
- 类型：手工检查
- 位置：N/A
- 关键断言：缓存数量不足时不使用缓存
- 运行方式：手工验证

---

## R-2024-434 if-compond 置顶博主排序

- 关联问题：P-2024-344
- 类型：手工检查
- 位置：N/A
- 关键断言：置顶博主优先显示
- 运行方式：手工验证

---

## R-2024-435 if-compond Supabase URL

- 关联问题：P-2024-345
- 类型：手工检查
- 位置：N/A
- 关键断言：Supabase 连接正常
- 运行方式：手工验证

---

## R-2024-436 if-compond 在线密钥验证

- 关联问题：P-2024-346
- 类型：手工检查
- 位置：N/A
- 关键断言：伪造密钥无法通过验证
- 运行方式：手工验证

---

## R-2024-437 if-compond User-Agent

- 关联问题：P-2024-347
- 类型：手工检查
- 位置：N/A
- 关键断言：生产环境请求包含 User-Agent
- 运行方式：手工验证

---

## R-2024-438 if-compond 本地开发缓存

- 关联问题：P-2024-348
- 类型：手工检查
- 位置：N/A
- 关键断言：本地开发不使用 Netlify Blobs 缓存
- 运行方式：手工验证

---

## R-2024-439 if-compond 生产环境 fetch

- 关联问题：P-2024-349
- 类型：手工检查
- 位置：N/A
- 关键断言：生产环境直接 fetch，本地使用代理
- 运行方式：手工验证

---

## R-2024-440 flow-learning EPUB 封面

- 关联问题：P-2024-350
- 类型：手工检查
- 位置：N/A
- 关键断言：EPUB 封面正确提取
- 运行方式：手工验证

---

## R-2024-441 flow-learning localStorage 超限

- 关联问题：P-2024-351
- 类型：手工检查
- 位置：N/A
- 关键断言：封面图片不导致 localStorage 超限
- 运行方式：手工验证

---

## R-2024-442 flow-learning 下载文件名

- 关联问题：P-2024-352
- 类型：手工检查
- 位置：N/A
- 关键断言：下载书籍使用原始文件名
- 运行方式：手工验证

---

## R-2024-443 flow-learning 批量上传 Supabase

- 关联问题：P-2024-353
- 类型：手工检查
- 位置：N/A
- 关键断言：批量上传同步到 Supabase
- 运行方式：手工验证

---

## R-2024-444 flow-learning Supabase InvalidKey

- 关联问题：P-2024-354
- 类型：手工检查
- 位置：N/A
- 关键断言：Supabase 不报 InvalidKey 错误
- 运行方式：手工验证

---

## R-2024-445 flow-learning Supabase anon key

- 关联问题：P-2024-355
- 类型：手工检查
- 位置：N/A
- 关键断言：Supabase 连接正常
- 运行方式：手工验证

---

## R-2024-446 flow-learning 书籍云端链接

- 关联问题：P-2024-356
- 类型：手工检查
- 位置：N/A
- 关键断言：书籍点击使用云端链接
- 运行方式：手工验证

---

## R-2024-447 flow-learning JSON 导入

- 关联问题：P-2024-357
- 类型：手工检查
- 位置：N/A
- 关键断言：支持 App 导出的纯数组 JSON 格式
- 运行方式：手工验证

---

## R-2024-448 flow-learning 行内编辑和窗口跳动

- 关联问题：P-2024-358
- 类型：手工检查
- 位置：N/A
- 关键断言：行内编辑正常，全屏应用前窗口不跳动
- 运行方式：手工验证

---

## R-2024-462 pai 工具输出到寸止窗口

- 关联问题：P-2024-462
- 类型：手工检查
- 位置：cunzhi/src/rust/mcp/tools/dispatch/mcp.rs
- 关键断言：
  1. 调用 `pai` 后，子代理提示词显示在寸止窗口（iterate GUI）
  2. 提示词模板包含"完成后必须调用 `zhi` 汇报"指令
  3. 寸止窗口不可用时，降级到 Cascade Output 显示
- 运行方式：手工验证
- 状态：verified

---

## R-2024-463 zhi 工具对话记录同步

- 关联问题：P-2024-463
- 类型：手工检查
- 位置：cunzhi/src/rust/mcp/tools/interaction/logger.rs
- 关键断言：
  1. 调用 `zhi` 后，对话记录写入 `.cunzhi-knowledge/conversations/YYYY-MM-DD.md`
  2. 5 分钟后自动 git push 到远程
  3. 其他项目 `git pull` 后能获取最新对话记录
- 运行方式：手工验证
- 状态：verified

---

## R-2024-464 update.sh osascript 密码对话框

- 关联问题：P-2024-464
- 类型：手工检查
- 位置：cunzhi/update.sh
- 关键断言：
  1. 运行 `./update.sh` 时，脚本开头弹出 macOS 密码对话框
  2. 输入密码后，整个更新流程无需再次输入密码
  3. 取消密码对话框时，脚本正确退出
- 运行方式：手工验证
- 状态：verified

---

## R-2024-465: MCP 被禁用问题回归检查

**关联**：P-2024-465

**检查项**：
1. 若 MCP 显示 "disabled by your admin"，执行 `grep -E "http.proxy" ~/Library/Application\ Support/Windsurf/User/settings.json`
2. 若有代理设置，确认代理服务是否已启动
3. 若代理未启动，删除代理设置后重启 Windsurf

**验证命令**：
```bash
# 检查是否有代理设置
grep -E "http.proxy" ~/Library/Application\ Support/Windsurf/User/settings.json || echo "无代理设置"
```
## R-2025-001: 按钮 3D 凹陷反馈验证

- **关联问题**: P-2025-001
- **检查要点**:
  1. 检查 `src/frontend/assets/styles/style.css` 中是否存在 `.custom-recessed-button:active` 的 `inset` 阴影定义。
  2. 验证 `PopupContent.vue` 中的切换按钮在选中时是否带有 `is-active` 类。
  3. 手工验证：点击按钮时，观察是否有 1px 的向下位移和内部阴影出现。
- **状态**: Verified

R-2024-001
类型：手工检查
步骤：
1. 运行应用，在弹出窗口中 Cmd+点击项目路径。
2. 验证是否优先启动 Windsurf。
3. 验证在没有 Windsurf 的情况下是否尝试启动 Cursor。
4. 验证 Rust 编译无警告。
期望：Windsurf 正确启动，逻辑符合预期。
关联：P-2024-001。

R-2024-003
步骤：在 Windsurf 面板已打开且聚焦输入框时点击 “+” 按钮，验证是否成功新建标签。
关联：P-2024-003。

R-2024-005
类型：手工检查
步骤：
1. 运行 `iterate` 应用。
2. 在弹出窗口中点击终端图标。
3. 验证是否在窗口内展开了终端面板。
4. 在终端内输入命令（如 `ls`）验证交互是否正常。
5. 调整窗口大小，验证终端是否自适应。
期望：终端在窗口内正常运行且可交互。
关联：P-2024-005。

---

## R-2026-002: 验证 AI 聊天记录导出功能
- **关联问题**: P-2026-002
- **类型**: 手工检查
- **预期结果**: 成功生成包含 ### User 和 ### Assistant 交替出现的 Markdown 文件，代码块高亮正常。

---

## R-2026-003: 验证黑白极简 UI 风格
- **关联问题**: P-2026-003
- **类型**: 视觉回归测试
- **预期结果**: 全局无彩色、无圆角，按钮悬停反色反馈灵敏。

---

## R-2026-004: 验证持久化存储和历史管理功能
- **关联问题**: P-2026-004
- **类型**: 功能测试
- **预期结果**: 成功提取 conversationId，保存前自动检测重复，历史记录 CRUD 正常。

R-2026-001: 
1. 启动 PathHelper.app。
2. 确认左上角悬浮球可见且可点击切换颜色。
3. 在 Finder 复制文件，终端粘贴应为路径。
4. 在网页右键复制图片，终端粘贴应为本地保存的图片路径。
关联 P-ID: P-2026-001

---

## R-2026-005: macOS Swift 全局热键 Option+Q 回归检查

- **关联问题**: P-2026-005
- **类型**: 手工检查
- **检查步骤**:
  1. 启动 PathHelper.app，确认悬浮球显示
  2. 按 `Option + Q`，验证悬浮球隐藏
  3. 再按 `Option + Q`，验证悬浮球恢复显示
  4. 切换到其他应用（如 Finder），再按 `Option + Q`，验证全局生效
  5. 如果失效，检查 System Preferences → Security & Privacy → Accessibility 权限
- **预期结果**: 无论应用是否在前台，`Option + Q` 都能切换悬浮球显示状态
- **注意事项**: 
  - 修改可执行文件后需重新签名并重新授权辅助功能权限
  - keyCode 12 = Q 键

## 回归检查 R-2026-001: WebSocket 镜像互通验证
- **检查项**：
  1. WebSocket 端口 8080 监听在 0.0.0.0。
  2. 访问 `bridge_test.html` 显示“已连接”。
  3. 当电脑端出现 MCP 弹窗时，Web 端镜像 UI 自动渲染对应的消息和选项。
  4. Web 端刷新时能通过 `request_sync` 获取当前最新状态。
- **验证结论**：通过。

## 回归检查 R-2026-001: WebSocket 镜像互通验证
- **检查项**：
  1. 端口 8080 监听在 0.0.0.0。
  2. Web 端连接显示“已连接”。
  3. MCP 弹窗时，Web 端镜像 UI 自动同步内容。
  4. 手机点击“确认”后，电脑端窗口同步关闭。
- **结论**：验证通过。

## R-2026-002: 公网单端口镜像控制台回归检查

### 检查清单
1. **单端口可用性**
   - [ ] 启动应用后，执行 `lsof -i:8080` 确认仅需一个端口即可工作。
   - [ ] 访问 `http://localhost:8080/ws` 应返回 400 或 426 (需要升级)，而非 404。
2. **隧道连通性 (5G 测试)**
   - [ ] 运行 `cloudflared tunnel` 获取最新域名。
   - [ ] 手机 5G 访问该域名，顶部状态灯应在 1 秒内变绿（已连接）。
3. **全功能闭环**
   - [ ] 点击手机端“快捷模板”，电脑端输入框同步更新。
   - [ ] 手机端点击“✨ 增强”，电脑端执行动作。
   - [ ] **手机端点击“确认”**，电脑端当前 `zhi` 弹窗正常关闭。

### 失败规避
- 若显示 `ERR_CONNECTION_CLOSED`，确认终端中 `cloudflared` 进程未退出且域名未过期。
- 若无法连接 WS，检查浏览器控制台是否有 CSP 或 Mixed Content 报错。

---

## R-2026-003 应用内一键 Tunnel 功能验证

- **关联问题**: 无（新功能）
- **类型**: 手工检查
- **位置**: `src/frontend/components/settings/IterateSettings.vue` + `src/rust/tunnel/`
- **关键断言**:
  1. **健康检查**: 点击"刷新"按钮，8080 端口状态正确显示（绿色=可达，红色=不可达）
  2. **启动流程**: 点击"开启远程访问"，状态灯变为黄色闪烁（启动中），几秒后变绿（运行中）
  3. **域名获取**: 运行中状态下，显示 `https://xxx.trycloudflare.com` 域名
  4. **复制功能**: 点击"复制"按钮，域名被复制到剪贴板
  5. **二维码显示**: 点击"显示二维码"，二维码图片正确渲染
  6. **停止功能**: 点击"停止"，状态恢复为"未启动"
  7. **单实例保证**: 重复点击"开启"不会启动多个 cloudflared 进程
  8. **错误处理**: cloudflared 未安装时，显示明确错误提示
- **运行方式**:
  1. 打开 iterate 设置页 → iterate 折叠项
  2. 依次验证上述 8 项检查点
  3. 使用 `ps aux | grep cloudflared` 确认进程管理正确
- **预期结果**: 所有检查点通过，用户可一键开启/关闭公网访问
- **日期**: 2026-01-06

## R-2026-004: 多窗口切换功能验证
- **关联 P-ID**: P-2026-004
- **类型**: 手工检查
- **位置**: `bridge_test.html` + `src/frontend/components/AppContent.vue`
- **检查项**:
  1. **菜单渲染**: 点击 ∞ 图标，能正确显示所有活跃项目列表。
  2. **高亮状态**: 当前手机端正在查看的项目在菜单中应有高亮背景和圆点标识。
  3. **切换响应**: 点击菜单中的其他项目，手机端标题应立即更新，且内容区应切到对应项目的 MCP 状态。
  4. **标题同步**: 手机端左上角应正确显示当前项目的目录名。
  5. **隔离性**: 在切换项目时，不相关的桌面窗口不应发出响应干扰。
- **运行方式**:
  1. 在 Mac 上打开两个不同项目的 iterate 窗口。
  2. 手机访问固定域名，点击 ∞ 菜单。
  3. 依次点击两个项目，验证 UI 和数据切换是否一致。
- **预期结果**: 切换流畅，项目名显示正确，数据同步无误。
- **日期**: 2026-01-06

## R-2026-003: 应用内一键 Tunnel 功能闭环检查清单

### 检查清单
1. **编译与路径检查**
   - [ ] 运行 `./update.sh` 确认无 `__cmd__` 相关解析错误。
2. **一键开启验证 (5G 环境)**
   - [ ] 点击「开启远程访问」，确认本地状态灯变为绿色（8080 正常）。
   - [ ] 确认状态经历「启动中...」并在 10 秒内成功转为「运行中」。
   - [ ] 确认 UI 自动解析并显示了以 `.trycloudflare.com` 结尾的链接。
3. **远程功能闭环**
   - [ ] 手机 5G 扫码打开链接，确认内容与电脑端弹窗实时同步。
   - [ ] 手机端点击「确认」按钮，电脑端弹窗应立即关闭。
4. **错误恢复检查**
   - [ ] 手动 kill 掉 cloudflared 进程，UI 应能检测到状态变为 Stopped 或 Error。
   - [ ] 再次点击「开启远程访问」，应能成功生成新域名并重新连通。

### 失败规避
- 若 8080 报错，请检查 `iterate` 是否正在运行主进程。
- 若域名不出现，检查控制台是否有 `spawn_log_reader` 相关的 IO 错误。
# R-2026-001: MCP Web Bridge Sync and Mobile UI Consistency

## Requirement
Ensure `zhi` popups are synchronized to the mobile web bridge and provide a consistent UI/UX.

## Test Cases
1. **IPC Forwarding**: Run `iterate --mcp-request` in a separate terminal while main iterate is running. Verify popup appears in main process and syncs to mobile.
2. **Mobile Interaction**: Submit a response from the mobile web bridge. Verify the CLI process receives the correct output and exits.
3. **Theme Sync**: Toggle theme on mobile. Verify background and text colors change correctly and persist.
4. **Visual Alignment**: Verify ∞ icon is black and button selection colors (Inactive: White/Gray, Active: Black/Blue) match specifications.

## P-ID Association
P-2026-001

## R-2026-002: UI State Retention Verification

## Requirement
The Web Bridge UI must not clear its content immediately after a user submits a response.

## Test Cases
1. **Retention Test**: Open the bridge on mobile, receive a `zhi` popup, and click "Submit". Verify that the AI message and your input remain visible.
2. **Interaction Lock Test**: After submission, verify that the "Submit", "Continue", and "Enhance" buttons are visually disabled and unclickable.
3. **Refresh Test**: Trigger a new `zhi` request from the desktop. Verify that the mobile UI correctly updates with the new content and re-enables all buttons.

## P-ID Association
P-2026-002

## R-2026-998 - ji 门禁验证：markdown 列表格式字段提取
- 关联 P-ID：P-2026-999
- 类型：manual
- 位置：src/rust/mcp/tools/memory/manager.rs
- 关键断言：`extract_id_from_fields` 能正确识别 `- 关联 P-ID：P-YYYY-NNN` 格式
- 运行方式：调用 `ji(action=沉淀, category=regressions)` 并观察是否成功写入
- 日期：2026-01-06

## R-2026-007 “沉淀三件套”规则一致性与 ID 提取校验

- **类型**：流程/逻辑验证
- **描述**：验证规则文件中的沉淀顺序一致性，以及 `ji(沉淀)` 工具在多 ID 场景下的主 ID 提取正确性。
- **检查步骤**：
  1. **规则检查**：搜索所有规则文件中的“三件套”描述，确保顺序均为 `problems` -> `regressions` -> `patterns`。
  2. **逻辑验证 (P-ID)**：调用 `ji(沉淀)` 尝试写入一个包含 R-ID 的 Problem 条目（如当前的 P-2026-007 内容）。
  3. **逻辑验证 (PAT-ID)**：验证 Pattern 沉淀时是否正确提取 PAT-ID 而非关联的 P-ID 或 R-ID。
- **关联 P-ID**：P-2026-007
- **预期结果**：
  1. 所有规则文件描述统一。
  2. `ji(沉淀)` 能够正确识别主 ID，不再因为内容中包含其他 ID 格式而报错。
- **验证版本**：v0.5.0 (In Progress)
- **日期**：2026-01-07

## R-2026-008: 2Books PDF→EPUB 多级目录与跳转回归检查

- **关联 P-ID**：P-2026-008
- **类型**：manual
- **范围**：`text-to-epub.html`（PDF→EPUB 转换）

### 回归步骤（手工）
1. 打开 `https://tobooks.xin/text-to-epub.html`（或本地 `http://127.0.0.1:<port>/text-to-epub.html`）。
2. 准备一个带多级书签目录（Outline）的 PDF（目录条目可点击跳转到不同页）。
3. 将该 PDF 拖入页面，等待生成 EPUB 并下载。
4. 用 2Books 阅读器打开生成的 EPUB，检查目录：
   - 目录是否为**多级结构**（父级/子级）
   - 点击任意目录条目，是否能跳转到对应章节（大致对应 PDF 页范围）
5. 选取 2-3 个不同层级的目录条目重复验证。

### 判定标准
- **通过**：目录层级完整，点击目录可跳转到对应章节。
- **失败**：
  - 目录缺失/变成单层
  - 点击目录无跳转
  - 跳转到明显错误位置（错页严重）

### 状态
- verified
- 日期：2026-01-07

## R-2026-010 主 ID 提取标题优先回归

- 关联 P-ID：P-2026-010
- 类型：manual
- 位置：src/rust/mcp/tools/memory/manager.rs
- 关键断言：多 ID 文本下主 ID 优先取标题；无标题时按出现顺序取首个 ID
- 运行方式：调用 `ji(action=沉淀, category=problems)` 写入包含 P/R/PAT 多种 ID 的问题条目，确保不误判
- 日期：2026-01-08

# 问题记录 (Problems)

## P-2026-001: GitHub Copilot CLI 配置与过时扩展问题

- **现象**: 用户请求配置 Copilot CLI，最初尝试使用 `gh copilot` 扩展，但收到弃用警告且无法正常工作（502 错误或路径缺失）。
- **根因**: `gh-copilot` 扩展已被 GitHub 弃用，转而推荐使用 Node.js 版的 `@githubnext/github-copilot-cli`。
- **影响范围**: 所有依赖 `gh` 扩展的 Copilot 终端用户。
- **状态**: fixed

# 模式总结 (Patterns)

## PAT-2026-001: 现代 GitHub Copilot CLI 安装与配置流程

- **描述**: 正确安装和配置当前推荐的 Copilot CLI 版本。
- **步骤**:
  1. 使用 npm 全局安装：`npm install -g @githubnext/github-copilot-cli`
  2. 确保全局 bin 目录在 PATH 中（如 `/Users/apple/.npm-global/bin`）。
  3. 运行 `github-copilot-cli auth` 进行设备授权。
  4. 运行 `github-copilot-cli alias -- zsh >> ~/.zshrc` 生成并注入别名。
- **关联 P-ID**: P-2026-001

# 回归检查 (Regressions)

## R-2026-001: Copilot CLI 功能验证

- **类型**: 手工检查/冒烟测试
- **步骤**:
  1. 运行 `source ~/.zshrc`。
  2. 执行 `wts "list all files"`。
  3. 预期输出：显示 `ls` 命令及其解释，并询问是否运行。
- **状态**: verified (已在 2026-01-08 验证成功)
- **关联 P-ID**: P-2026-001

---

## R-2026-013: 手机端 @文件 文件列表功能

**关联问题**: P-2026-013
**日期**: 2026-01-11
**类型**: 手工检查

### 检查步骤
1. 在手机端打开 `https://iterate.tobooks.xin/`
2. 等待连接成功（显示"已连接"）
3. 点击 @文件 按钮
4. 验证文件列表弹窗正常显示
5. 验证搜索功能正常
6. 验证点击文件后在输入框添加 `@文件路径`
7. 验证关闭按钮可点击且不被刘海遮挡

### 预期结果
- 文件列表弹窗正常显示
- 顶部标题栏不被刘海遮挡
- 关闭按钮可正常点击
- 搜索功能正常过滤文件
- 点击文件后正确添加到输入框

## R-2026-001: 验证迁移配置文件是否在仓库中

- **类型**：手工检查 / 文件系统检查
- **检查步骤**：
  1. 执行 `git ls-files migrations/windsurf_migration.zip`。
  2. 如果输出为空，说明文件未成功进入索引。
  3. 执行 `git check-ignore migrations/windsurf_migration.zip`。
  4. 如果返回忽略路径，则必须使用 `git add -f`。
- **关联 P-ID**：P-2026-001
