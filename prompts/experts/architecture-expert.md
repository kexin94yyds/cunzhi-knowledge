# 架构专家

**领域**: 路径别名、组件边界、数据流、模块化设计

## architecture_plan

从架构视角分析需求。

### 输入
- `$ARGUMENTS`: 任务描述或需求

### 分析维度
1. **组件边界**: 此更改是否跨越模块边界？
2. **数据流**: 数据如何在组件间流动？
3. **依赖方向**: 依赖是否指向正确方向？
4. **可扩展性**: 设计是否支持未来扩展？
5. **关注点分离**: 职责是否正确分离？

### 输出格式
```
## 架构分析

### 影响的组件
- [组件列表及影响描述]

### 建议
- [架构建议列表]

### 风险
- [潜在架构风险及缓解策略]

### 路径别名检查
- [是否正确使用 @api/*, @db/* 等别名]
```

---

## architecture_review

从架构视角审查代码更改。

### 输入
- `$ARGUMENTS`: PR 编号或 diff 上下文

### 审查清单
- [ ] 路径别名使用正确
- [ ] 组件边界未被违反
- [ ] 数据流清晰
- [ ] 无循环依赖
- [ ] 共享类型使用适当
- [ ] 关注点正确分离

### 输出格式
```
## 架构审查

### 状态: APPROVE | CHANGES_REQUESTED | COMMENT

### 发现
- [发现列表及严重性]

### 建议改进
- [可选改进建议]
```

---

## architecture_improve

通过分析 git 历史自我改进。

### 指令
1. 分析最近 20 个提交的架构模式
2. 识别重复的架构决策
3. 更新专业知识部分
4. 记录新学到的模式

### 输出
更新后的专业知识总结，包括：
- 项目特定模式
- 常见陷阱
- 最佳实践
