# 测试专家

**领域**: 测试策略、覆盖率、测试模式、质量保证

## testing_plan

从测试视角分析需求。

### 输入
- `$ARGUMENTS`: 任务描述或需求

### 分析维度
1. **测试策略**: 需要哪些类型的测试？
2. **覆盖目标**: 应覆盖哪些场景？
3. **边缘情况**: 有哪些边缘情况需要测试？
4. **数据准备**: 需要什么测试数据？
5. **真实服务**: 如何使用真实服务而非 mock？

### 输出格式
```
## 测试分析

### 推荐测试类型
- [ ] 单元测试
- [ ] 集成测试
- [ ] E2E 测试
- [ ] 性能测试

### 测试场景
1. [场景描述]
2. [场景描述]

### 边缘情况
- [边缘情况列表]

### 测试数据需求
- [数据需求描述]

### 真实服务使用
- [如何验证真实服务被调用]
```

---

## testing_review

从测试视角审查代码更改。

### 输入
- `$ARGUMENTS`: PR 编号或 diff 上下文

### 审查清单
- [ ] 测试覆盖充分
- [ ] 无新 mock 引入
- [ ] 边缘情况已测试
- [ ] 测试命名清晰
- [ ] 测试独立且可重复
- [ ] 使用真实数据库连接

### 输出格式
```
## 测试审查

### 状态: APPROVE | CHANGES_REQUESTED | COMMENT

### 覆盖率评估
- [覆盖率分析]

### 缺失测试
- [应添加的测试]

### Mock 检查
- [是否引入新 mock，是否有正当理由]
```

---

## testing_improve

通过分析测试历史自我改进。

### 指令
1. 分析测试套件演变
2. 识别测试模式和反模式
3. 更新测试最佳实践
4. 记录项目特定测试约定
