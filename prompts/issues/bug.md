# /bug

**模板分类**: Action

为 `$ARGUMENTS` 中描述的 bug 编写修复计划。计划必须使实施者能够以最小变动修复缺陷。

## 指令

- **首先验证问题标签**: 运行 `gh issue view <issue-number> --json labels`
- 在 `docs/specs/` 下创建新的 markdown 计划，命名为 `bug-<issue-number>-<slug>.md`
- 从问题标题使用 3-6 个小写、连字符分隔的单词构建 `<slug>`
- 按确切格式填充，使编排器可以可靠解析部分
- 使用搜索工具发现相关错误处理代码
- 使用提供的上下文在脑海中重现 bug，概述如何确认失败和解决
- 在提出更改前调查 `src/**`、`tests/**` 中受影响的模块

## 计划格式

```md
# Bug 计划: <简洁名称>

## Bug 摘要
- 观察到的行为
- 预期行为
- 怀疑的范围

## 根本原因假设
- 主要理论
- 支持证据

## 修复策略
- 代码更改
- 数据/配置更新
- 护栏

## 相关文件
- <path> — <为什么触及此文件>
### 新文件
- <path> — <目的>

## 任务分解
### 验证
- 重现当前失败的步骤
- 要捕获的日志/指标
### 实施
- 交付修复的有序步骤
### 验证
- 要添加/更新的测试
- 要运行的手动检查

## 逐步任务
### <有序任务组>
- <按执行顺序的可操作项>
- 以重新验证和推送的任务组结束

## 回归风险
- 要观察的相邻功能
- 风险实现时的后续工作

## 验证命令
- lint
- typecheck
- test --filter integration
- test
- build
```

## 报告

**仅**返回计划文件路径作为纯文本单行。
