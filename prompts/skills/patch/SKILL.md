---
name: patch
description: 补丁应用流程。触发词：patch、补丁。
---

# /patch

**模板分类**: Path Resolution

创建专注的补丁计划以处理审查反馈，不偏离范围。

## 变量

- task_id: $1 (任务 ID)
- review_change_request: $2 (所需更改描述)
- spec_path: $3 (原规范文件的相对路径，可为空)

## 指令

- 审查更改请求，理解需要修复什么
- 如果提供了 spec_path，阅读它以保持与原始意图对齐
- 检查 `git diff origin/develop...HEAD` 查看当前实施状态
- 在 `docs/specs/` 下创建针对性补丁计划，命名为 `patch-<task_id[:8]>-<slug>.md`
- 从更改请求使用 2-4 个小写、连字符分隔的单词构建 `<slug>`
- 保持更改最小：仅触及解决反馈所需的内容
- **不要**扩展范围超出正在解决的审查问题

## 补丁计划格式

```md
# 补丁计划: <简洁名称>

## 审查反馈
<需要修复内容的摘要>

## 所需更改
- <文件路径> — <所需的具体更改>

## 逐步任务
### 修复 1: <问题描述>
- <可操作步骤>

### 验证
- 运行适当的验证级别
- 确认修复解决了审查问题

## 受影响文件
- <路径> — <更改类型>
```

## 输出格式要求

创建补丁计划文件后，**仅**返回相对路径作为纯文本单行。

**不要包含:**
- 解释性文本
- Markdown 格式或代码块
- 引号、星号或其他标点
- 多行或额外评论
- Git 状态前缀

**正确输出:**
```
docs/specs/patch-abc12345-fix-auth-tests.md
```

## 报告

仅返回补丁计划文件的相对路径，不要其他内容。
